# Getting to Know `asyncio`

<div dir="rtl">
<style>
    pre {
        direction: ltr;
    }
</style>

ูุชูุงูู ูุฐุง ุงููุตู:

- **ูุง ูู `asyncio` ูุงูููุงุฆุฏ ุงูุชู ูููุฑูุง**
- **ุงูุชุฒุงูู (Concurrency) ูุงูุชูุงุฒู (Parallelism) ู (Threads) ูุงูุนูููุงุช (Processes)**
- **(Global Interpreter Lock) ูุงูุชุญุฏูุงุช ุงูุชู ููุฑุถูุง ุนูู ุงูุชุฒุงูู**
- **ููู ูููู ุชุญููู ุงูุชุฒุงูู ุจุงุณุชุฎุฏุงู thread ูุงุญุฏ ููุท ูุน sockets ุบูุฑ ุงููุญุธูุฑุฉ (Non-blocking sockets)**
- **ุฃุณุงุณูุงุช ููููุฉ ุนูู ุงูุชุฒุงูู ุงููุงุฆู ุนูู ุงูุญููุฉ ุงูุญุฏุซูุฉ (Event-loop-based concurrency)**


---

๐ **ุชุทุจููุงุช ุงูููุจ ูุงูุนูููุงุช ุบูุฑ ุงููุชุฒุงููุฉ**

ุชุนุชูุฏ ุงูุนุฏูุฏ ูู ุงูุชุทุจููุงุชุ ูุฎุงุตุฉ ูู ุนุงูู ุชุทุจููุงุช ุงูููุจ ุงููููุ ุจุดูู ูุจูุฑ ุนูู **ุนูููุงุช ุงูุฅุฏุฎุงู/ุงูุฅุฎุฑุงุฌ (I/O)**. ุชุดูู ูุฐู ุงูุนูููุงุช:

- ุชูุฒูู ูุญุชููุงุช ุตูุญุฉ ููุจ ูู ุงูุฅูุชุฑูุช ๐
- ุงูุชูุงุตู ุนุจุฑ ุงูุดุจูุฉ ูุน ูุฌููุนุฉ ูู ุฎุฏูุงุช **ุงููููุฑูุณูุฑููุณ** โ๏ธ
- ุชุดุบูู ุนุฏุฉ ุงุณุชุนูุงูุงุช ูุนูุง ุนูู ูุงุนุฏุฉ ุจูุงูุงุช ูุซู **MySQL** ุฃู **Postgres** ๐๏ธ

### ุงูุชุญุฏูุงุช ูู ุนูููุงุช ุงูุฅุฏุฎุงู/ุงูุฅุฎุฑุงุฌ

ูุฏ ุชุณุชุบุฑู ุทูุจุงุช ุงูููุจ ุฃู ุงูุงุชุตุงูุงุช ูุน ุฎุฏูุฉ ูููุฑูุณูุฑููุณ ูุฆุงุช ุงููููู ุซุงููุฉุ ุฃู ุญุชู ุซูุงูู ุฅุฐุง ูุงูุช ุงูุดุจูุฉ ุจุทูุฆุฉ. ูููู ุฃู ูููู ุงูุงุณุชุนูุงู ุนู ูุงุนุฏุฉ ุจูุงูุงุช ูุณุชููููุง ููููุชุ ุฎุงุตุฉ ุฅุฐุง ูุงูุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุญุช ุญูู ุนุงูู ุฃู ูุงู ุงูุงุณุชุนูุงู ูุนูุฏูุง. ูุฏ ูุญุชุงุฌ ุฎุงุฏู ุงูููุจ ุฅูู ุงูุชุนุงูู ูุน ูุฆุงุช ุฃู ุขูุงู ุงูุทูุจุงุช ูู ููุณ ุงูููุช.

### ูุดููุฉ ุงูุฃุฏุงุก

ุฅุฌุฑุงุก ุงูุนุฏูุฏ ูู ุทูุจุงุช ุงูุฅุฏุฎุงู/ุงูุฅุฎุฑุงุฌ (I/O) ูุฑุฉ ูุงุญุฏุฉ ูููู ุฃู ูุคุฏู ุฅูู ูุดุงูู ูุจูุฑุฉ ูู ุงูุฃุฏุงุก. ุฅุฐุง ูููุง ุจุชุดุบูู ูุฐู ุงูุทูุจุงุช ูุงุญุฏูุง ุชูู ุงูุขุฎุฑ ููุง ููุนู ูู ุชุทุจูู ูุนูู ุจุดูู ุชุณูุณููุ ูุณูู ูุฑู ุชุฃุซูุฑูุง ูุชุฒุงูุฏูุง ุนูู ุงูุฃุฏุงุก. 

๐ก **ูุซุงู ุชูุถูุญู**:
- ุฅุฐุง ููุง ููุชุจ ุชุทุจูููุง ูุญุชุงุฌ ุฅูู ุชูุฒูู 100 ุตูุญุฉ ููุจ ุฃู ุชุดุบูู 100 ุงุณุชุนูุงูุ ูู ูููุง ูุณุชุบุฑู ุซุงููุฉ ูุงุญุฏุฉ ููุชูููุฐุ ูุณูุณุชุบุฑู ุชุทุจูููุง ุนูู ุงูุฃูู 100 ุซุงููุฉ ููุชุดุบูู.
- ููุน ุฐููุ ุฅุฐุง ุงุณุชุบูููุง **ุงูุชุฒุงูู (concurrency)** ูุจุฏุฃูุง ุงูุชูุฒููุงุช ูุงูุชุธุฑูุง ูู ุงูููุช ููุณูุ ูุธุฑููุงุ ูููููุง ุฅููุงู ูุฐู ุงูุนูููุงุช ูู ุฃูู ูู ุซุงููุฉ ูุงุญุฏุฉ! โฑ๏ธ
ุฅููู ุงููุต ุงููุนุฏู ุจุงุณุชุฎุฏุงู ุงููุตุทูุญ ุงูุฅูุฌููุฒู "thread":

---

โจ **ููุชุจุฉ `asyncio` ูู ุจุงูุซูู**

ุชู ุชูุฏูู ููุชุจุฉ `asyncio` ูุฃูู ูุฑุฉ ูู **Python 3.4** ูุทุฑููุฉ ุฅุถุงููุฉ ููุชุนุงูู ูุน ุงูุฃุญูุงู ุงููุจูุฑุฉ ุงููุชุฒุงููุฉ (concurrent) ุฎุงุฑุฌ ุฅุทุงุฑ **ุชุนุฏุฏ threads (multithreading)** ู**ุชุนุฏุฏ ุงูุนูููุงุช (multiprocessing)**. 

๐ **ููุงุฆุฏ `asyncio`**:
- ูููู ุฃู ูุคุฏู ุงูุงุณุชุฎุฏุงู ุงูุตุญูุญ ููุฐู ุงูููุชุจุฉ ุฅูู ุชุญุณููุงุช ูุจูุฑุฉ ูู ุงูุฃุฏุงุก ูุงุณุชุฎุฏุงู ุงูููุงุฑุฏ ููุชุทุจููุงุช ุงูุชู ุชุนุชูุฏ ุนูู ุนูููุงุช ุงูุฅุฏุฎุงู/ุงูุฅุฎุฑุงุฌ.
- ุชุชูุญ ููุง ุจุฏุก ุงูุนุฏูุฏ ูู ุงูููุงู ุงูุทูููุฉ ุงูุชุดุบูู ูุนูุง.

### ุฃูุฏุงู ุงููุตู
ูู ูุฐุง ุงููุตูุ ุณููุฏู ุฃุณุงุณูุงุช ุงูุชุฒุงูู ูููู ููููุฉ ุชุญูููู ุจุงุณุชุฎุฏุงู ุจุงูุซูู ูููุชุจุฉ `asyncio`. ุณูุณุชูุดู ุงููุฑููุงุช ุจูู:

- **ุงูุนูู ุงููุฑุชุจุท ุจูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ (CPU-bound work)** ๐ฅ๏ธ
- **ุงูุนูู ุงููุฑุชุจุท ุจุงูุฅุฏุฎุงู/ุงูุฅุฎุฑุงุฌ (I/O-bound work)** ๐ก

ุณูููู ุฃู ูููุฐุฌ ุชุฒุงูู ููุงุณุจ ุงุญุชูุงุฌุงุชูุง ุงูุฎุงุตุฉ. 

### ุงููุญุชูู ุงูุฐู ุณูุชูุงููู:
- ุงูุชุนุฑู ุนูู ุฃุณุงุณูุงุช ุงูุนูููุงุช ูthreads ูุงูุชุญุฏูุงุช ุงููุฑูุฏุฉ ุงูุชู ููุฑุถูุง **Global Interpreter Lock (GIL)** ุนูู ุงูุชุฒุงูู ูู ุจุงูุซูู.
- ููู ููููุฉ ุงุณุชุฎุฏุงู ููููู **ุงูุฅุฏุฎุงู/ุงูุฅุฎุฑุงุฌ ุบูุฑ ุงููุญุฌูุจ (non-blocking I/O)** ูุน **ุญููุฉ ุงูุฃุญุฏุงุซ (event loop)** ูุชุญููู ุงูุชุฒุงูู ุจุงุณุชุฎุฏุงู ุนูููุฉ ูุงุญุฏุฉ ูthread ูุงุญุฏ ููุท ูู ุจุงูุซูู. 

ูุฐุง ูู ูููุฐุฌ **ุงูุชุฒุงูู ุงูุฑุฆูุณู** ูููุชุจุฉ `asyncio`! ๐
ุฅููู ุงููุต ุงูููุธู ูุน ุฅุถุงูุฉ ุงูุฑููุฒ ุงูุชุนุจูุฑูุฉ:

---



## ูุง ูู `asyncio`ุ

ูู **ุงูุชุทุจููุงุช ุงููุชุฒุงููุฉ (synchronous application)**ุ ูุชู ุชุดุบูู ุงูููุฏ ุจุงูุชุณูุณู. ูุชู ุชูููุฐ ุงูุณุทุฑ ุงูุชุงูู ูู ุงูููุฏ ุจูุฌุฑุฏ ุฃู ููุชูู ุงูุณุทุฑ ุงูุณุงุจูุ ููุง ูุญุฏุซ ุณูู ุดูุก ูุงุญุฏ ูู ููุช ูุงุญุฏ. 

๐ค **ุงูุชุญุฏูุงุช ูู ูุฐุง ุงููููุฐุฌ**:
- ูุฐุง ุงููููุฐุฌ ูุนูู ุจุดูู ุฌูุฏ ููุนุฏูุฏ ูู ุงูุชุทุจููุงุชุ ุฅู ูู ููู ูุนุธููุง. 
- ูููู ูุงุฐุง ูู ูุงู ููุงู ุณุทุฑ ูู ุงูููุฏ ุจุทูุก ุจุดูู ุฎุงุตุ 

ูู ูุฐู ุงูุญุงูุฉุ ุณูุธู ุจุงูู ุงูููุฏ ุจุนุฏ ูุฐุง ุงูุณุทุฑ ุงูุจุทูุก ูุนูููุง ูู ุงูุชุธุงุฑ ุฅููุงูู. ูููู ุฃู ุชููุน ูุฐู ุงูุฃุณุทุฑ ุงูุจุทูุฆุฉ ุงููุญุชููุฉ ุงูุชุทุจูู ูู ุชุดุบูู ุฃู ููุฏ ุขุฎุฑ.

๐ **ูุซุงู ุนูู ุงููุดููุฉ**:
ุฑุจูุง ุฑุฃููุง ูุฐุง ูู ูุจู ูู ูุงุฌูุงุช ุงููุณุชุฎุฏู ุงูุชู ุชุญุชูู ุนูู ุฃุฎุทุงุกุ ุญูุซ ูุถุบุท ุจุณุนุงุฏุฉ ููุง ูููุงู ุญุชู ูุชุฌูุฏ ุงูุชุทุจููุ ููุง ูุชุฑููุง ูุน ุฏุงุฆุฑุฉ ุงูุชุธุงุฑ (spinner) ุฃู ูุงุฌูุฉ ุบูุฑ ูุณุชุฌูุจุฉ. 

![Spinner](image.png)

๐ซ **ูุฐุง ูุซุงู ุนูู ุชุทุจูู ูุชููู ุนู ุงูุนููุ ููุง ูุคุฏู ุฅูู ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุฆุฉ**.


ุฅููู ุงููุต ุงูููุธู ูุน ุฅุถุงูุฉ ุงูุฑููุฒ ุงูุชุนุจูุฑูุฉ:

---

## ุงูุชุญุฏูุงุช ูู ุงูุชุทุจููุงุช ุงููุชุฒุงููุฉ

ุจูููุง ูููู ูุฃู ุนูููุฉ ุฃู ุชุชุณุจุจ ูู ุชููู ุงูุชุทุจูู ุฅุฐุง ุงุณุชุบุฑูุช ููุชูุง ุทูููุงูุ ูุฅู ุงูุนุฏูุฏ ูู ุงูุชุทุจููุงุช ุณุชุชููู ูู ุงูุชุธุงุฑ ุนูููุงุช **ุงูุฅุฏุฎุงู/ุงูุฅุฎุฑุงุฌ (I/O)**. 

๐ป **ูุง ูู ุงูุฅุฏุฎุงู/ุงูุฅุฎุฑุงุฌุ**
- ูุดูุฑ ุงูุฅุฏุฎุงู/ุงูุฅุฎุฑุงุฌ ุฅูู ุฃุฌูุฒุฉ ุฅุฏุฎุงู ูุฅุฎุฑุงุฌ ุงูููุจููุชุฑ ูุซู ููุญุฉ ุงูููุงุชูุญุ ุงููุฑุต ุงูุตูุจุ ูุงูุฃูุซุฑ ุดููุนูุงุ ุจุทุงูุฉ ุงูุดุจูุฉ.
- ุชูุชุธุฑ ูุฐู ุงูุนูููุงุช ุฅุฏุฎุงู ุงููุณุชุฎุฏู ุฃู ุงุณุชุฑุฌุงุน ุงููุญุชููุงุช ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช (API) ุชุนุชูุฏ ุนูู ุงูููุจ.

ูู **ุงูุชุทุจููุงุช ุงููุชุฒุงููุฉ (synchronous application)**ุ ุณูุธู ุนุงูููู ูู ุงูุชุธุงุฑ ุฅููุงู ูุฐู ุงูุนูููุงุช ูุจู ุฃู ูุชููู ูู ุชุดุบูู ุฃู ุดูุก ุขุฎุฑ. ูููู ุฃู ูุชุณุจุจ ุฐูู ูู ูุดุงูู ูู ุงูุฃุฏุงุก ูุงูุงุณุชุฌุงุจุฉุ ุญูุซ ูุง ูููููุง ุชุดุบูู ุณูู ุนูููุฉ ุทูููุฉ ูุงุญุฏุฉ ูู ุฃู ููุช ูุนููุ ููุฐู ุงูุนูููุฉ ุณุชููู ุชุทุจูููุง ุนู ุงูููุงู ุจุฃู ุดูุก ุขุฎุฑ.

## ุงูุญู: ุงูุชุฒุงูู (Concurrency)

ุฃุญุฏ ุงูุญููู ููุฐู ุงููุดููุฉ ูู ุฅุฏุฎุงู ููููู **ุงูุชุฒุงูู (Concurrency)**. ุจุจุณุงุทุฉุ ูุนูู ุงูุชุฒุงูู ุงูุณูุงุญ ุจุชูููุฐ ุฃูุซุฑ ูู ูููุฉ ูู ููุณ ุงูููุช. ูููู ุฃู ูููู ุฐูู ูู ุฎูุงู ุชูููุฐ ุนุฏุฉ ุนูููุงุช ูู ููุณ ุงูููุช ุฃู ุงูุณูุงุญ ุจุงุชุตุงูุงุช ูุชุนุฏุฏุฉ ุจุฎุงุฏู ุงูููุจ ูู ููุณ ุงูููุช.

#### ููููุฉ ุชุญููู ุงูุชุฒุงูู ูู ุจุงูุซูู

ููุงู ุนุฏุฉ ุทุฑู ูุชุญููู ูุฐุง ุงูุชุฒุงูู ูู ุจุงูุซูู. ูุงุญุฏุฉ ูู ุฃุญุฏุซ ุงูุฅุถุงูุงุช ุฅูู ูุธุงู ุจุงูุซูู ูู ููุชุจุฉ **`asyncio`**. ุชุดูุฑ `asyncio` ุฅูู **ุงูุฅุฏุฎุงู/ุงูุฅุฎุฑุงุฌ ุบูุฑ ุงููุชุฒุงูู (asynchronous I/O)**. 

๐ **ููุงุฆุฏ ููุชุจุฉ `asyncio`**:
- ุชุชูุญ ููุง ุชุดุบูู ุงูููุฏ ุจุงุณุชุฎุฏุงู ูููุฐุฌ ุงูุจุฑูุฌุฉ **ุงูุชุฒุงูู**.
- ุชุณูุญ ููุง ุจุงูุชุนุงูู ูุน ุนูููุงุช ุฅุฏุฎุงู/ุฅุฎุฑุงุฌ ูุชุนุฏุฏุฉ ูู ุขู ูุงุญุฏุ ุจูููุง ูุจูู ุงูุชุทุจูู ูุณุชุฌูุจูุง.

## ูุง ูู ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ (asynchronous I/O)ุ

ุชุนูู ุฃู ูููุฉ ูุนููุฉ ุทูููุฉ ุงูุฃูุฏ ูููู ุชุดุบูููุง ูู ุงูุฎูููุฉ ุจุดูู ูููุตู ุนู ุงูุชุทุจูู ุงูุฑุฆูุณู. ุจุฏูุงู ูู ุฃู ูููุน ุงูุชุทุจูู ูู ุชูููุฐ ุฃู ููุฏ ุขุฎุฑ ุฃุซูุงุก ุงูุชุธุงุฑ ุงูุชูุงู ุชูู ุงููููุฉ ุงูุทูููุฉุ ูููู ุงููุธุงู ุญุฑูุง ูู ุงูููุงู ุจุฃุนูุงู ุฃุฎุฑู ูุง ุชุนุชูุฏ ุนูู ุชูู ุงููููุฉ. 

โ **ุนูุฏ ุงูุชูุงู ุงููููุฉ ุงูุทูููุฉ**ุ ุณููุฎุทูุฑ ุจุฃู ุงููููุฉ ูุฏ ุงูุชูุช ุญุชู ูุชููู ูู ูุนุงูุฌุฉ ุงููุชูุฌุฉ.

ุฅููู ุงููุต ุงูููุธู ูุน ุฅุถุงูุฉ ุงูุฑููุฒ ุงูุชุนุจูุฑูุฉ ูุตูุฑุฉ ุงูุดูู:

---

## ุงูุชูุงุฒู (Parallelism)

ุจูููุง ูุดูุฑ **ุงูุชุฒุงูู (Concurrency)** ุฅูู ุฃู ููุงู ููุงู ูุชุนุฏุฏุฉ ุชูุนุงูุฌ ูู ููุณ ุงูููุชุ ูุฅูู ูุง ูุนูู ุจุงูุถุฑูุฑุฉ ุฃููุง ุชุนูู ูุนูุง ุจุดูู ูุชูุงุฒู. 

๐ **ูุง ูุนูู ุงูุชูุงุฒูุ**
ุนูุฏูุง ูููู ุฅู ุดูุฆูุง ูุง ูุนูู ุจุดูู ูุชูุงุฒูุ ูุนูู ุจุฐูู ุฃู ููุงู ูููุชูู ุฃู ุฃูุซุฑ ุชุญุฏุซุงู ุจุดูู ูุชุฒุงููุ ูููู ุฃูุถูุง ุชููุฐุงู ูู ููุณ ุงูููุช.

#### ูุซุงู ุชูุถูุญู: ุฎุจุฒ ุงููุนูุฉ
ุชุฎูู ุฃููุง ูููู ูุณุงุนุฏุฉ ูู ุฎุจุงุฒ ุขุฎุฑ. ูู ูุฐู ุงูุญุงูุฉุ ูููููุง ุงูุนูู ุนูู ุงููุนูุฉ ุงูุฃููู ุจูููุง ูุนูู ุงูุฎุจุงุฒ ุงูุซุงูู ุนูู ุงููุนูุฉ ุงูุซุงููุฉ. ุดุฎุตุงู ูุตูุนุงู ุงูุนุฌูู ูู ููุณ ุงูููุช ูู ูุซุงู ุนูู **ุงูุชูุงุฒู**ุ ูุฃู ูุฏููุง ูููุชูู ูููุฒุชูู ุชุนููุงู ุจุดูู ูุชุฒุงูู ูุชููุฐุงู ูู ููุณ ุงูููุช.

### ุงููุฑู ุจูู ุงูุชุฒุงูู ูุงูุชูุงุฒู

- **Concurrency**: ูุฏููุง ููุงู ูุชุนุฏุฏุฉ ุชุญุฏุซ ูู ููุณ ุงูููุชุ ููููุง ูููู ุจุชูููุฐ ูุงุญุฏุฉ ูููุง ููุท ุจุดูู ูุดุท ูู ูุญุธุฉ ูุนููุฉ.
- **Parallelism**: ูุฏููุง ููุงู ูุชุนุฏุฏุฉ ุชุญุฏุซ ููููู ุจุชูููุฐ ุฃูุซุฑ ูู ูุงุญุฏุฉ ูููุง ูู ููุณ ุงูููุช ุจุดูู ูุดุท.

๐ก **ุงูุงุณุชูุชุงุฌ**:
- **ุงูุชุฒุงูู** ูุณูุญ ุจุชุนุฏุฏ ุงูููุงูุ ููู ูุง ูุนูู ุฃู ูุฐู ุงูููุงู ุชูููุฐ ูู ููุณ ุงููุญุธุฉ.
- ุจูููุง **ุงูุชูุงุฒู** ูุนูู ุชูููุฐ ูุฐู ุงูููุงู ูุนูููุง ูู ููุณ ุงููุญุธุฉุ ููุง ูุฒูุฏ ูู ููุงุกุฉ ุงูุฃุฏุงุก ุนูุฏ ุงูุชุนุงูู ูุน ููุงู ูุชุนุฏุฏุฉ.

![ุดูู ุชูุถูุญู](image-1.png)
![alt text](image-2.png)

---

### ุงููุฑู ุจูู ุงูุชุฒุงูู (Concurrency) ูุงูุชูุงุฒู (Parallelism)

- **ุงูุชุฒุงูู (Concurrency)** ูุชุนูู ุจูุฌูุฏ ููุงู ูุชุนุฏุฏุฉ ูููู ุฃู ุชุญุฏุซ ุจุดูู ูุณุชูู ุนู ุจุนุถูุง ุงูุจุนุถ. ูููู ุชุญููู **ุงูุชุฒุงูู** ุญุชู ุนูู ูุญุฏุฉ ูุนุงูุฌุฉ ูุฑูุฒูุฉ (CPU) ุชุญุชูู ุนูู ููุงุฉ ูุงุญุฏุฉุ ุญูุซ ุณุชุณุชุฎุฏู ุงูุนูููุฉ ุชุนุฏุฏ ุงูููุงู ุงููุณุฑู (preemptive multitasking) ููุชุจุฏูู ุจูู ุงูููุงู.

- **ุงูุชูุงุฒู (Parallelism)**ุ ูุนูู ุฃูู ูุฌุจ ุนูููุง ุชูููุฐ ูููุชูู ุฃู ุฃูุซุฑ ูู ููุณ ุงูููุช. ุนูู ุฌูุงุฒ ูุญุชูู ุนูู ููุงุฉ ูุงุญุฏุฉุ ูุฐุง ููุณ ูููููุง. ูุฌุนู ุฐูู ูููููุงุ ูุญุชุงุฌ ุฅูู ูุญุฏุฉ ูุนุงูุฌุฉ ูุฑูุฒูุฉ ุชุญุชูู ุนูู ููู ูุชุนุฏุฏุฉ ูููููุง ุชุดุบูู ูููุชูู ูุนูุง.

๐ **ููุทุฉ ูููุฉ**: ุจูููุง ูุดูุฑ ุงูุชูุงุฒู ุฅูู ุฅููุงููุฉ ุชูููุฐ ุนุฏุฉ ููุงู ูู ููุณ ุงูููุชุ ูุฅู ุงูุชุฒุงูู ูุง ูุนูู ูุฌูุฏ ุชูุงุฒู.

ุนูุฏูุง ูุชุญุฏุซ ุนู ุชุทุจูู ูุณุชุฎุฏู **ุงูููุงู ุงููุชุนุฏุฏุฉ (multithreading)** ุนูู ุฌูุงุฒ ูุญุชูู ุนูู ููู ูุชุนุฏุฏุฉุ ููุฐุง ูุนูู ุฃู ุงูุชุทุจูู ููููู ุงูููุงู ุจุฃูุซุฑ ูู ูููุฉ ูู ููุณ ุงูููุช. ูู ูุฐุง ุงูููุน ูู ุงูุฅุนุฏุงุฏุงุชุ ูููู ุชูููุฐ ููุงู ูุชุนุฏุฏุฉ ุจุดูู **ุชุฒุงููู**ุ ุญูุซ ุชุนูู ูู ูููุฉ ุจุดูู ูุณุชูู ุนูู ููุงุฉ ูุฎุชููุฉ.

---
## ูุง ูู ุชุนุฏุฏ ุงูููุงูุ (What is multitasking?)

ุชุนุฏุฏ ุงูููุงู ููุฌูุฏ ูู ูู ููุงู ูู ุนุงูู ุงูููู. ูุญู ูููู ุจุชุนุฏุฏ ุงูููุงู ุฃุซูุงุก ุฅุนุฏุงุฏ ุงูุฅูุทุงุฑ ูู ุฎูุงู ุชููู ููุงููุฉ ุฃู ุงูุฑุฏ ุนูู ุฑุณุงูุฉ ูุตูุฉ ุจูููุง ููุชุธุฑ ุบููุงู ุงููุงุก ูุชุญุถูุฑ ุงูุดุงู. ูุญู ุญุชู ูููู ุจุชุนุฏุฏ ุงูููุงู ุฃุซูุงุก ุงูุชููู ุฅูู ุงูุนููุ ูู ุฎูุงู ูุฑุงุกุฉ ูุชุงุจ ุจูููุง ุชุฃุฎุฐูุง ุงููุทุงุฑ ุฅูู ุงููุญุทุฉ.

#### ููุนุงู ุฑุฆูุณูุงู ูู ุชุนุฏุฏ ุงูููุงู:

1. **ุชุนุฏุฏ ุงูููุงู ุงููุณุฑู (Preemptive Multitasking)**:
   - ูู ูุฐุง ุงููููุฐุฌุ ูุชุฑู ูุธุงู ุงูุชุดุบูู ููุฑุฑ ููููุฉ ุงูุชุจุฏูู ุจูู ุงูููุงู ุงูุชู ูุชู ุชูููุฐูุง ุญุงูููุง ูู ุฎูุงู ุนูููุฉ ุชูุณูู **ุชูุณูู ุงูููุช (Time Slicing)**.
   - ุนูุฏูุง ูููู ูุธุงู ุงูุชุดุบูู ุจุงูุชุจุฏูู ุจูู ุงูุฃุนูุงูุ ูุทูู ุนููู ุงุณู **ุงูุฅููุงู ุงููุณุฑู (Preempting)**. 
   - ูุชู ุฅุฏุงุฑุฉ ุชุดุบูู ุงูููุงู ุจูุงุณุทุฉ ูุธุงู ุงูุชุดุบููุ ุญูุซ ูููู ุจุชุญุฏูุฏ ูุชู ูููู ููุชูู ุจูู ุงูููุงู ุงููุฎุชููุฉ.

   #### ููู ูุนููุ
   - **ุชูุณูู ุงูููุช (Time Slicing)**:
     - ูููู ูุธุงู ุงูุชุดุบูู ุจุชูุณูู ุงูููุช ุงููุชุงุญ ููู ูููุฉ ุฅูู ูุชุฑุงุช ุฒูููุฉ ูุตูุฑุฉ ุชูุนุฑู ุจุงุณู "ุดุฑูุญุฉ ุงูููุช".
     - ูุชู ุชุฎุตูุต ูู ุดุฑูุญุฉ ุฒูููุฉ ููููุฉ ูุนููุฉุ ููุง ูุณูุญ ููุธุงู ุงูุชุดุบูู ุจุชูููุฐ ุงูุนุฏูุฏ ูู ุงูููุงู ุจุดูู ูุชุณูุณู.
  
   - **ุงูุฅููุงู ุงููุณุฑู (Preempting)**:
     - ุนูุฏูุง ุชูุชูู ุดุฑูุญุฉ ุงูููุช ููููุฉ ูุนููุฉุ ูููู ูุธุงู ุงูุชุดุบูู ุจุฅููุงู ูุฐู ุงููููุฉ (ุฃู "ุงูุฅููุงู ุงููุณุฑู") ูุงูุงูุชูุงู ุฅูู ูููุฉ ุฃุฎุฑู.
     - ูุฐุง ูุนูู ุฃู ุงูููุงู ูููู ุฃู ุชุชููู ูู ุฃู ููุช ุฅุฐุง ุงุณุชูููุช ููุชูุง ุงููุญุฏุฏุ ุญุชู ูู ูุงูุช ูุง ุชุฒุงู ุชุนูู.

2. **ุชุนุฏุฏ ุงูููุงู ุงูุชุนุงููู (Cooperative Multitasking)**:
   - ูุฐุง ุงููููุฐุฌ ูู ุฃุณููุจ ูุฅุฏุงุฑุฉ ุงูููุงู ุญูุซ ูุชู ุงูุชุญูู ุจุชุจุฏูู ุงูููุงู ุจุดูู ุตุฑูุญ ุจูุงุณุทุฉ ุงูุชุทุจูู ููุณูุ ูููุณ ุจูุงุณุทุฉ ูุธุงู ุงูุชุดุบูู.
   - ูู ูุฐุง ุงููููุฐุฌุ ุชููู ูู ูููุฉ ูู ุงูุชุทุจูู ุจุชุญุฏูุฏ ููุงุท ูุนููุฉ ูู ุงูููุฏ ุญูุซ ูููููุง ุงูุชููู ูุคูุชูุง ูุงูุณูุงุญ ูููุงู ุฃุฎุฑู ุจุงูุนูู.

   ๐ **ููููุฉ ุนููู**:
   - ุชููู ุงูููุงู ูู ูุฐุง ุงููุธุงู ุจุงูุชุนุงูู ูุน ุจุนุถูุง ุงูุจุนุถุ ุญูุซ ุชููู ูู ูููุฉ ุจุดูู ุตุฑูุญ: "ุณุฃุชููู ุนู ุงูุนูู ูุคูุชูุงุ ูููููู ุงูุขู ุชุดุบูู ุงูููุงู ุงูุฃุฎุฑู."
   - ูุฐุง ุงูุฃุณููุจ ูุชุทูุจ ูู ุงููุจุฑูุฌูู ูุชุงุจุฉ ุงูููุฏ ุจุญูุซ ุชููู ููุงู ููุงุท ูููู ุนูุฏูุง ุงูุชุจุฏูู ุจูู ุงูููุงูุ ููุง ูุถูู ุฃู ุฌููุน ุงูููุงู ุชุญุตู ุนูู ูุฑุตุชูุง ููุนูู ุฏูู ุชุฏุฎู ูุจุงุดุฑ ูู ูุธุงู ุงูุชุดุบูู.
   - ุนูู ุณุจูู ุงููุซุงูุ ุฅุฐุง ูุงูุช ูููุฉ ูุนููุฉ ุชุญุชุงุฌ ุฅูู ุงูุชุธุงุฑ ูุฏุฎูุงุช ูู ุงููุณุชุฎุฏูุ ูููููุง ุงูุชููู ุนูุฏ ุชูู ุงูููุทุฉ ูุงูุณูุงุญ ูููุงู ุฃุฎุฑู ุจุงูุนูู ุญุชู ุชุชููู ุงููุฏุฎูุงุช ุงููุทููุจุฉ ูุชุณุชุฃูู ุนูููุง.

ุฅููู ุงููุต ูุน ุฅุถุงูุฉ ุจุนุถ ุงูุฑููุฒ ุงูุชุนุจูุฑูุฉ ูุชุญุณูู ุงูุนุฑุถ:

---

### ููุงุฆุฏ ุชุนุฏุฏ ุงูููุงู ุงูุชุนุงููู (Cooperative Multitasking) ๐

ุชุณุชุฎุฏู ููุชุจุฉ `asyncio` ูู Python **ุชุนุฏุฏ ุงูููุงู ุงูุชุนุงููู** ูุชุญููู **ุงูุชุฒุงูู**. ุนูุฏูุง ุชุตู ุชุทุจููุงุชูุง ุฅูู ููุทุฉ ูุฏ ุชุถุทุฑ ูููุง ููุงูุชุธุงุฑ ูุจุนุถ ุงูููุช ููุญุตูู ุนูู ูุชูุฌุฉุ ูููู ุจุชูููุฒ ูุฐู ุงูููุทุฉ ูู ุงูููุฏ ุจุดูู ุตุฑูุญ. ูุฐุง ูุณูุญ ูุฌุฒุก ุขุฎุฑ ูู ุงูููุฏ ุจุงูุนูู ุฃุซูุงุก ุงูุชุธุงุฑูุง ููุญุตูู ุนูู ุงููุชูุฌุฉ ูู ุงูุฎูููุฉ. โณ

๐ก **ูุงุฆุฏุฉ ูุฐุง ุงูุฃุณููุจ**: ุจูุฌุฑุฏ ุงูุงูุชูุงุก ูู ุงููููุฉ ุงูุชู ูููุง ุจุชูููุฒูุงุ ูููููุง "ุงูุงุณุชููุงุธ" ูุงุณุชุฆูุงู ุชูููุฐ ุงููููุฉ. ูุฐุง ูููุญูุง ุดูููุง ูู ุฃุดูุงู **ุงูุชุฒุงูู**ุ ุญูุซ ูููู ุฃู ุชุจุฏุฃ ุงูููุงู ูู ููุณ ุงูููุชุ ูููู ุจุดูู ูููุ ููุณ **ุงูุชูุงุฒู (Parallelism)**ุ ูุฃููู ูุง ูููุฐูู ุงูููุฏ ูู ููุณ ุงูููุช.

#### ููุงุฆุฏ ุชุนุฏุฏ ุงูููุงู ุงูุชุนุงููู ููุงุฑูุฉ ุจุชุนุฏุฏ ุงูููุงู ุงููุณุฑู (Preemptive Multitasking) โ๏ธ:

1. **ุงุณุชููุงู ุงูููุงุฑุฏ**:
   - ุชุนุฏุฏ ุงูููุงู ุงูุชุนุงููู ุฃูู ุงุณุชููุงููุง ููููุงุฑุฏ. ุนูุฏูุง ูุญุชุงุฌ ูุธุงู ุงูุชุดุบูู ุฅูู ุงูุชุจุฏูู ุจูู thread ุฃู ุนูููุฉ ููุฏ ุงูุชุดุบููุ ูุชุทูุจ ุฐูู ุนูููุฉ ุชูุณูู **ุงูุชุจุฏูู ุงูุณูุงูู (Context Switch)**. ๐
   - ุชุนุชุจุฑ ุนูููุงุช ุงูุชุจุฏูู ุงูุณูุงูู ููุซูุฉ ูุฃู ูุธุงู ุงูุชุดุบูู ูุฌุจ ุฃู ูุญุชูุธ ุจูุนูููุงุช ุญูู ุงูุนูููุฉ ุฃู thread ุงูุฐู ูุชู ุชุดุบููู ููููู ูุงุฏุฑูุง ุนูู ุฅุนุงุฏุฉ ุชุญูููู.

2. **ุงูุฏูุฉ**:
   - ูุนุฑู ูุธุงู ุงูุชุดุบูู ุฃู thread ุฃู ุงููููุฉ ูุฌุจ ุฃู ุชุชููู ุจูุงุกู ุนูู ุฃู ุฎูุงุฑุฒููุฉ ุฌุฏููุฉ ูุณุชุฎุฏููุงุ ูููู ูุฏ ูุง ูููู ุฐูู ูู ุฃูุถู ููุช ููุชููู. ๐
   - ูุน **ุชุนุฏุฏ ุงูููุงู ุงูุชุนุงููู**ุ ูููู ุจุชูููุฒ ุงูููุงุทู ุงูุชู ุชููู ุงูุฃูุถู ูุชููู ููุงููุง. ูุฐุง ูููุญูุง ุจุนุถ ููุงุณุจ ุงูููุงุกุฉ ูุฃููุง ูุชุจุฏู ุงูููุงู ููุท ุนูุฏูุง ูุนุฑู ุตุฑุงุญุฉ ุฃูู ุงูููุช ุงูููุงุณุจ ููููุงู ุจุฐูู. ๐ฏ

---

### ููู ุงูุนูููุงุชุ ุงูู Threadsุ ุชุนุฏุฏ ุงูููุงู ุงููุชุนุฏุฏ (Multithreading)ุ ูุชุนุฏุฏ ุงูุนูููุงุช (Multiprocessing) ๐

ูููู ููููุฉ ุนูู **ุงูุชุฒุงูู** ูู ุนุงูู Pythonุ ูุญุชุงุฌ ุฃููุงู ุฅูู ููู ุงูุฃุณุงุณูุงุช ุญูู ููููุฉ ุนูู **ุงูุนูููุงุช (Processes)** ู**ุงูู Threads**. ุซู ุณูุณุชุนุฑุถ ููููุฉ ุงุณุชุฎุฏุงู **ุชุนุฏุฏ ุงูููุงู ุงููุชุนุฏุฏ (Multithreading)** ู**ุชุนุฏุฏ ุงูุนูููุงุช (Multiprocessing)** ูุฃุฏุงุก ุงูุฃุนูุงู ุจุดูู ูุชุฒุงูู.

ุฅุฐุง ูุงู ููุงู ุฃู ุดูุก ุขุฎุฑ ุชูุฏ ุฅุถุงูุชู ุฃู ุชุบููุฑูุ ูุฃุฎุจุฑูู!

#### ุชุนุฑููุงุช ุฃุณุงุณูุฉ:

- **ุงูุนูููุฉ (Process)**:
  - ุงูุนูููุฉ ูู ุชุทุจูู ูุชู ุชุดุบููู ููู ูุณุงุญุฉ ุฐุงูุฑุฉ ูุง ูููู ููุชุทุจููุงุช ุงูุฃุฎุฑู ุงููุตูู ุฅูููุง. ๐ฅ๏ธ
  - ูุซุงู ุนูู ุฅูุดุงุก ุนูููุฉ Python ุณูููู ุชุดุบูู ุชุทุจูู ุจุณูุท ูุซู "hello world" ุฃู ูุชุงุจุฉ `python` ูู ุณุทุฑ ุงูุฃูุงูุฑ ูุจุฏุก ุจูุฆุฉ ุงูุนูู ุงูุชูุงุนููุฉ (REPL).
  
  ๐ **ููุงุญุธุฉ**: ูููู ุชุดุบูู ุนูููุงุช ูุชุนุฏุฏุฉ ุนูู ุฌูุงุฒ ูุงุญุฏ. ุฅุฐุง ููุง ุนูู ุฌูุงุฒ ูุญุชูู ุนูู ูุญุฏุฉ ูุนุงูุฌุฉ ูุฑูุฒูุฉ (CPU) ุจูุง ุฃูููุฉ ูุชุนุฏุฏุฉุ ูููููุง ุชูููุฐ ุนูููุงุช ูุชุนุฏุฏุฉ ูู ููุณ ุงูููุช. 
  - ุฅุฐุง ููุง ุนูู ูุญุฏุฉ ูุนุงูุฌุฉ ูุฑูุฒูุฉ ุชุญุชูู ุนูู ููุงุฉ ูุงุญุฏุฉ ููุทุ ูููููุง ุฃูุถูุง ุชุดุบูู ุชุทุจููุงุช ูุชุนุฏุฏุฉ ูู ููุช ูุงุญุฏ ูู ุฎูุงู ุชูููุงุช **ุชูุณูู ุงูููุช (Time Slicing)**.
  
  - ุนูุฏูุง ูุณุชุฎุฏู ูุธุงู ุงูุชุดุบูู ุชูุณูู ุงูููุชุ ูุฅูู ุณูุชุญูู ุจูู ุงูุนูููุงุช ุงูุชู ุชุนูู ุชููุงุฆููุง ุจุนุฏ ูุชุฑุฉ ุฒูููุฉ ูุนููุฉ. ุชุฎุชูู ุงูุฎูุงุฑุฒููุงุช ุงูุชู ุชุญุฏุฏ ูุชู ูุญุฏุซ ูุฐุง ุงูุชุจุฏูู ุญุณุจ ูุธุงู ุงูุชุดุบูู.
#### (Threads)  
ูููู ุงุนุชุจุงุฑ **Threads** ูุนูููุงุช ุฃุฎู ูุฒููุง. ุจุงูุฅุถุงูุฉ ุฅูู ุฐููุ ูุฅููุง ุชุนุชุจุฑ ุฃุตุบุฑ ูุญุฏุฉ ูููู ุฅุฏุงุฑุชูุง ุจูุงุณุทุฉ ูุธุงู ุงูุชุดุบูู. ูุง ุชูุชูู **Threads** ุฐุงูุฑุฉ ุฎุงุตุฉ ุจูุง ููุง ุชูุนู ุงูุนูููุงุชุ ุจุฏูุงู ูู ุฐููุ ุชุดุงุฑู ุฐุงูุฑุฉ ุงูุนูููุฉ ุงูุชู ุฃูุดุฃุชูุง. ุชุฑุชุจุท **Threads** ุจุงูุนูููุฉ ุงูุชู ุฃูุดุฃุชูุง. ุณุชุญุชูู ุงูุนูููุฉ ุฏุงุฆููุง ุนูู **Thread** ูุงุญุฏ ุนูู ุงูุฃูู ูุฑุชุจุท ุจูุงุ ูุนุงุฏุฉ ูุง ููุนุฑู ุจู **main thread**.

ูููู ููุนูููุฉ ุฃูุถูุง ุฅูุดุงุก **Threads** ุฃุฎุฑูุ ูุงูุชู ุชูุนุฑู ุจุดูู ุฃูุซุฑ ุดููุนูุง multithreading ุงูุนุงููุฉ ุฃู ุงูุฎูููุฉ (**worker** or **background threads**). ูููู ุฃู ุชุคุฏู ูุฐู **Threads** ุฃุนูุงููุง ุฃุฎุฑู **concurrently** ูุน **main thread**. ุชุดุจู **Threads** ุงูุนูููุงุชุ ุญูุซ ูููู ุชุดุบูููุง ุฌูุจูุง ุฅูู ุฌูุจ ุนูู ูุญุฏุฉ ูุนุงูุฌุฉ ูุฑูุฒูุฉ ูุชุนุฏุฏุฉ ุงููููุ ููููู ุฃูุถูุง ุฃู ูุชุจุฏู ูุธุงู ุงูุชุดุบูู ุจูููุง ุนุจุฑ ุชูุณูู ุงูููุช.

ุนูุฏ ุชุดุบูู ุชุทุจูู Python ุนุงุฏูุ ูููู ุจุฅูุดุงุก ุนูููุฉ ุจุงูุฅุถุงูุฉ ุฅูู **main thread**ุ ุงูุฐู ุณูููู ูุณุคูููุง ุนู ุชุดุบูู ุชุทุจูู Python ุงูุฎุงุต ุจูุง.

### ุงูุนูููุงุช ู ุงูู Threads ูู ุชุทุจูู Python ุจุณูุท

ูููู **ุงูุนูููุงุช**ุ **Threads**ุ **Multithreading**ุ ู **Multiprocessing**:

```python
import threading

total_threads = threading.active_count()
thread_name = threading.current_thread().name
print(f'Python is currently running {total_threads} thread(s)')
print(f'The current thread is {thread_name}')
```

ูุฐุง ุงููุซุงู ุงูุจุณูุท ูุนุฑุถ ููููุฉ ุงุณุชุฎุฏุงู **ุงูููุชุจุฉ threading** ูู Python ูุนุฑุถ ุนุฏุฏ ุงูู **threads** ุงููุดุทุฉ ุญุงูููุง ูุงุณู ุงูู **thread** ุงูุญุงูู.

ูููู ุจุฅูุดุงุก ุชุทุจูู ุจุณูุท ูููุถุญ ููุง ุฃุณุงุณูุงุช **main Thread**. ุฃููุงูุ ูุญุตู ุนูู ูุนุฑู ุงูุนูููุฉ (**process ID**)ุ ููู ูุนุฑู ูุฑูุฏ ููุนูููุฉุ ููุทุจุนู ูุฅุซุจุงุช ุฃู ูุฏููุง ุจุงููุนู ุนูููุฉ ูุฎุตุตุฉ ููุฏ ุงูุชุดุบูู. ุจุนุฏ ุฐููุ ูุญุตู ุนูู ุนุฏุฏ ุงูู **threads** ุงููุดุทุฉ ุงูุชู ุชุนูู ุจุงูุฅุถุงูุฉ ุฅูู ุงุณู ุงูู **thread** ุงูุญุงูู ูุฅุธูุงุฑ ุฃููุง ูุดุบู **thread** ูุงุญุฏูุงโููู **main thread**. ุจูููุง ุณูููู ูุนุฑู ุงูุนูููุฉ ูุฎุชูููุง ูู ูู ูุฑุฉ ูุชู ูููุง ุชุดุบูู ูุฐุง ุงูููุฏุ ูุฅู ุชุดุบูู ุงููุงุฆูุฉ 1.2 ุณูุนุทู ุฅุฎุฑุงุฌูุง ูุดุงุจููุง ููุง ููู:

```python
import threading
import os

process_id = os.getpid()  # Get the current process ID
total_threads = threading.active_count()  # Get the number of active threads
thread_name = threading.current_thread().name  # Get the name of the current thread

print(f'Process ID: {process_id}')
print(f'Python is currently running {total_threads} thread(s)')
print(f'The current thread is {thread_name}')
```

**ุงูุฅุฎุฑุงุฌ ุงููุชููุน**:

```
Process ID: 12345
Python is currently running 1 thread(s)
The current thread is MainThread
```

ุงูู **Process ID** ุณูุฎุชูู ูู ูู ูุฑุฉ ูุชู ูููุง ุชุดุบูู ุงูุจุฑูุงูุฌุ ููู ุนุฏุฏ ุงูู **threads** ุณูููู 1 ุฅุฐุง ูู ููู ุจุฅูุดุงุก ุฃู threads ุฅุถุงููุฉ.

![alt text](image-3.png)
ุฅููู ุงููุณุฎุฉ ุงููุนุฏูุฉ ุจุงุณุชุฎุฏุงู ุงููุตุทูุญุงุช ุงูุฅูุฌููุฒูุฉ:

---

**ุงูู Process ูุน Main Thread ูุงุญุฏ ููุฑุฃ ูู ุงูุฐุงูุฑุฉ**  
ูู **ุงูุดูู ุงูุณุงุจู-**ุ ูุฑุณู ุงูู Process ุงูุฎุงุตุฉ ุจุงููุงุฆูุฉ 1.2. ูููู ุจุฅูุดุงุก ุชุทุจูู ุจุณูุท ููุถุญ ููุง ุฃุณุงุณูุงุช ุงูู Main Thread. ุฃููุงูุ ูุญุตู ุนูู ูุนุฑู ุงูู Process (ููู ูุนุฑู ูุฑูุฏ ููู Process) ููููู ุจุทุจุงุนุชู ูุฅุซุจุงุช ุฃู ูุฏููุง ุจุงููุนู Process ูุฎุตุตุฉ ููุฏ ุงูุชุดุบูู. ุจุนุฏ ุฐููุ ูุญุตู ุนูู ุนุฏุฏ **ุงูู Threads ุงููุดุทุฉ** ุงูุชู ุชุนูู ุญุงูููุง ุจุงูุฅุถุงูุฉ ุฅูู ุงุณู ุงูู Thread ุงูุญุงูู ูุฅุธูุงุฑ ุฃููุง ูุดุบู Thread ูุงุญุฏูุง โ ููู ุงูู Main Thread.  
ุจูููุง ุณูููู ูุนุฑู ุงูู Process ูุฎุชูููุง ูู ูู ูุฑุฉ ูุชู ูููุง ุชุดุบูู ูุฐุง ุงูููุฏุ ูุฅู ุชุดุบูู ุงููุงุฆูุฉ 1.2 ุณูุนุทู ุฅุฎุฑุงุฌูุง ูุดุงุจููุง ููุง ููู:  
```
Python process running with process id: 98230
Python currently running 1 thread(s)
The current thread is MainThread
```
ูููู ุฃูุถูุง ููู Process ุฅูุดุงุก Threads ุฃุฎุฑู ุชุดุงุฑู ุงูุฐุงูุฑุฉ ุงูุฎุงุตุฉ ุจุงูู Process ุงูุฑุฆูุณูุฉ. ูููู ููุฐู ุงูู Threads ุงูููุงู ุจุฃุนูุงู ุฃุฎุฑู ุจุดูู ูุชุฒุงูู ููุง ูู ุฎูุงู ูุง ููุนุฑู ุจู **multithreading**.

---

**ุงููุงุฆูุฉ 1.3**: ุฅูุดุงุก ุชุทุจูู Python ูุชุนุฏุฏ ุงูู Threads
```python
import threading

def hello_from_thread():
    print(f'Hello from thread {threading.current_thread()}!')

hello_thread = threading.Thread(target=hello_from_thread)
hello_thread.start()

total_threads = threading.active_count()
thread_name = threading.current_thread().name
print(f'Python is currently running {total_threads} thread(s)')
print(f'The current thread is {thread_name}')

hello_thread.join()
```

---

**ูู ุงูุดูู**
![alt text](image-4.png)
ุ ูุฑุณู ุงูู Process ูุงูู Threads ุงูุฎุงุตุฉ ุจุงูููุฏ . ูููู ุจุฅูุดุงุก ุฏุงูุฉ ูุทุจุงุนุฉ ุงุณู ุงูู Thread ุงูุญุงููุ ุซู ูููู ุจุฅูุดุงุก Thread ูุชุดุบูู ุชูู ุงูุฏุงูุฉ. ุจุนุฏ ุฐููุ ูุณุชุฏุนู ุฏุงูุฉ **start** ุงูุฎุงุตุฉ ุจุงูู Thread ูุจุฏุก ุชุดุบููู. ุฃุฎูุฑูุงุ ูุณุชุฏุนู ุฏุงูุฉ **join**ุ ูุงูุชู ุณุชุคุฏู ุฅูู ุฅููุงู ุงูุจุฑูุงูุฌ ุญุชู ููุชูู ุงูู Thread ุงูุฐู ุจุฏุฃูุงู.  
ุฅุฐุง ูููุง ุจุชุดุบูู ุงูููุฏ ุงูุณุงุจูุ ุณูุฑู ุฅุฎุฑุงุฌูุง ูุดุงุจููุง ููุง ููู:
```
Hello from thread <Thread(Thread-1, started 123145541312512)>!
Python is currently running 2 thread(s)
The current thread is MainThread
```
ูุงุญุธ ุฃูู ุนูุฏ ุชุดุบูู ูุฐุง ุงูููุฏุ ูุฏ ุชุฑู ุฑุณุงูุชู "hello from thread" ู"Python is currently running 2 thread(s)" ุชุทุจุนุงู ูู ููุณ ุงูุณุทุฑ. ูุฐู ูุดููุฉ ุชูุนุฑู ุจู **race condition**ุ ุณูุณุชูุดู ููููุงู ุนู ุฐูู ูู ุงููุณู ุงูุชุงูู ููู ุงููุตูู 6 ู 7.

ุชูุนุฏ ุงูุชุทุจููุงุช ูุชุนุฏุฏุฉ ุงูู Threads ูุณููุฉ ุดุงุฆุนุฉ ูุชุญููู ุงูุชุฒุงูู ูู ุงูุนุฏูุฏ ูู ูุบุงุช ุงูุจุฑูุฌุฉ. ููุน ุฐููุ ููุงู ุจุนุถ ุงูุชุญุฏูุงุช ูู ุงุณุชุฎุฏุงู ุงูุชุฒุงูู ูุน ุงูู Threads ูู Python. ูุนุชุจุฑ **ุชุนุฏุฏ ุงูู Threads** ูููุฏูุง ููุท ููุฃุนูุงู ุงููุนุชูุฏุฉ ุนูู ุงููุฏุฎูุงุช ูุงููุฎุฑุฌุงุช (**I/O-bound work**) ูุฃููุง ูููุฏูู ุจู **ุงูููู ุงูุนุงููู ูููุชุฑุฌู (Global Interpreter Lock)**ุ ุงูุฐู ุณูุชู ููุงูุดุชู ูู ุงููุณู ุงูุชุงูู.

---

**ุชุนุฏุฏ ุงูู Threads** ููุณ ุงูุทุฑููุฉ ุงููุญูุฏุฉ ุงูุชู ูููููุง ูู ุฎูุงููุง ุชุญููู ุงูุชุฒุงููุ ูููููุง ุฃูุถูุง ุฅูุดุงุก ุนูููุงุช ูุชุนุฏุฏุฉ ููููุงู ุจุงูุฃุนูุงู ุจุงูุชูุงุฒู. ุชูุนุฑู ูุฐู ุงูุทุฑููุฉ ุจู **ุชุนุฏุฏ ุงูุนูููุงุช (multiprocessing)**. ูู **ุชุนุฏุฏ ุงูุนูููุงุช**ุ ุชููู ุงูู Parent Process ุจุฅูุดุงุก ูุงุญุฏุฉ ุฃู ุฃูุซุฑ ูู ุงูู Child Processes ุงูุชู ุชุฏูุฑูุง. ุจุนุฏ ุฐููุ ูููููุง ุชูุฒูุน ุงูุนูู ุนูู ุงูู Child Processes.

ุชููุฑ ููุง Python ูุญุฏุฉ **multiprocessing** ููุชุนุงูู ูุน ูุฐุง. ุชูุนุฏ ูุงุฌูุฉ ุงูุจุฑูุฌุฉ ุงูุฎุงุตุฉ ุจูุง ูุดุงุจูุฉ ุฌุฏูุง ูุชูู ุงูููุฌูุฏุฉ ูู ูุญุฏุฉ **threading**. ูููู ุฃููุงู ุจุฅูุดุงุก Process ุฌุฏูุฏุฉ ุจุงุณุชุฎุฏุงู ุฏุงูุฉ ูุณุชูุฏูุฉ (**target function**). ุจุนุฏ ุฐููุ ูููู ุจุงุณุชุฏุนุงุก ุฏุงูุฉ **start** ุงูุฎุงุตุฉ ุจุงูู Process ูุชุดุบูููุงุ ูุฃุฎูุฑูุง ูุณุชุฏุนู ุฏุงูุฉ **join** ููุงูุชุธุงุฑ ุญุชู ุชูุชูู ุงูู Process.

---

**ูุธูุฑ ูู ุงูููุฏ** 
ุฅูุดุงุก ุนูููุงุช ูุชุนุฏุฏุฉ



```python
import multiprocessing
import os

def hello_from_process():
    print(f'Hello from child process {os.getpid()}!')

if __name__ == '__main__':
    hello_process = multiprocessing.Process(target=hello_from_process)
    hello_process.start()

    print(f'Hello from parent process {os.getpid()}')
    hello_process.join()
```





ูู ุงูุดูู ุงูุณุงุจูุ ูุนุฑุถ ุนูููุฉ thread ุงูุฎุงุตุฉ ุจูุง ููุง ูู ููุถุญ ูู ุงูููุฏ ุงูุณุงุจู. ูููู ุจุฅูุดุงุก ุทุฑููุฉ ูุทุจุงุนุฉ ุงุณู `thread` ุงูุญุงููุ ุซู ููุดุฆ `thread` ูุชุดุบูู ุชูู ุงูุฏุงูุฉ. ุจุนุฏ ุฐููุ ูุณุชุฏุนู ุทุฑููุฉ `start` ููุฎูุท ูุจุฏุก ุชุดุบููู. ุฃุฎูุฑูุงุ ูุณุชุฏุนู ุฏุงูุฉ `join`. ุณุชุชุณุจุจ `join` ูู ุฅููุงู ุงูุจุฑูุงูุฌ ุญุชู ููุชูู ุชุดุบูู ุงูุฎูุท ุงูุฐู ุจุฏุฃูุงู.

ุฅุฐุง ูููุง ุจุชุดุบูู ุงูููุฏ ุงูุณุงุจูุ ุณูุฑู ูุฎุฑุฌุงุช ูุดุงุจูุฉ ููุง ููู:
```
Hello from thread <Thread(Thread-1, started 123145541312512)>!
Python is currently running 2 thread(s)
The current thread is MainThread
```

ูุงุญุธ ุฃูู ุนูุฏ ุชุดุบูู ูุฐุงุ ูุฏ ุชุฑู ุฑุณุงุฆู "hello from thread" ู "python is currently running 2 thread(s)" ุชุธูุฑ ุนูู ููุณ ุงูุณุทุฑ. ูุฐู ุญุงูุฉ ุณุจุงู (race condition)ุ ูุณูุณุชูุดู ุงููููู ุนู ุฐูู ูู ุงููุณู ุงูุชุงูู ููู ุงููุตูู 6 ู 7.

ุชูุนุชุจุฑ ุงูุชุทุจููุงุช ุงููุชุนุฏุฏุฉ  ูุณููุฉ ุดุงุฆุนุฉ ูุชุญููู ุงูุชุฒุงูู ูู ุงูุนุฏูุฏ ูู ูุบุงุช ุงูุจุฑูุฌุฉ. ููุน ุฐููุ ููุงู ุจุนุถ ุงูุชุญุฏูุงุช ูู ุงุณุชุฎุฏุงู ุงูุชุฒุงูู ูุน threads ูู ุจุงูุซูู. ุชุนุชุจุฑ ุงูุจุฑูุฌุฉ ุงููุชุนุฏุฏุฉ threads ูููุฏุฉ ููุท ููุนูู ุงูุฐู ูุนุชูุฏ ุนูู ุงูุฅุฏุฎุงู/ุงูุฅุฎุฑุงุฌ (I/O-bound) ูุฃููุง ูููุฏูู ุจููู ุงูููุณุฑ ุงูุนุงููู (GIL)ุ ุงูุฐู ุณูุชู ููุงูุดุชู ูู ุงููุณู 1.5.

ูุง ุชุนุฏ ุงูุจุฑูุฌุฉ ุงููุชุนุฏุฏุฉ threads ุงูุทุฑููุฉ ุงููุญูุฏุฉ ูุชุญููู ุงูุชุฒุงููุ ูููููุง ุฃูุถูุง ุฅูุดุงุก ุนูููุงุช ูุชุนุฏุฏุฉ ููููุงู ุจุงูุนูู ุจุงูุชูุงุฒู. ููุนุฑู ุฐูู ุจุงุณู "ุงูุจุฑูุฌุฉ ุงููุชุนุฏุฏุฉ ุงูุนูููุงุช" (multiprocessing). ูู ุงูุจุฑูุฌุฉ ุงููุชุนุฏุฏุฉ ุงูุนูููุงุชุ ุชููู ุงูุนูููุฉ ุงูุฃู ุจุฅูุดุงุก ูุงุญุฏุฉ ุฃู ุฃูุซุฑ ูู ุงูุนูููุงุช ุงููุฑุนูุฉ ุงูุชู ุชุฏูุฑูุง. ุซู ูููููุง ุชูุฒูุน ุงูุนูู ุนูู ุงูุนูููุงุช ุงููุฑุนูุฉ.

ุชูุฏู ุจุงูุซูู ููุง ูุญุฏุฉ `multiprocessing` ููุชุนุงูู ูุน ูุฐุง. ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API) ูุดุงุจูุฉ ููุญุฏุฉ `threading`. ูููู ุฃููุงู ุจุฅูุดุงุก ุนูููุฉ ูุน ุฏุงูุฉ ุงููุฏู (target function). ุซู ูุณุชุฏุนู ุทุฑููุฉ `start` ูุชูููุฐูุง ูุฃุฎูุฑูุง ุทุฑููุฉ `join` ูุงูุชุธุงุฑ ุงูุชูุงู ุชุดุบูููุง.
ูู ุงูููุฏ ุงูุชุงููุ ูุนุฑุถ ุนูููุฉ threads ุงูุฎุงุตุฉ ุจูุง ููุง ูู ููุถุญ ูู ุงูููุฏ ุงูุณุงุจู . ูููู ุจุฅูุดุงุก ุนูููุฉ ูุฑุนูุฉ ูุงุญุฏุฉ ุชุทุจุน ูุนุฑูู ุงูุนูููุฉ (process ID) ุงูุฎุงุต ุจูุงุ ููููู ุฃูุถูุง ุจุทุจุงุนุฉ ูุนุฑูู ุงูุนูููุฉ ุงูุฃู ูุฅุซุจุงุช ุฃููุง ูููู ุจุชุดุบูู ุนูููุงุช ูุฎุชููุฉ.

ุนุงุฏุฉู ูุง ุชููู ุงูุจุฑูุฌุฉ ุงููุชุนุฏุฏุฉ ุงูุนูููุงุช ุฃูุถู ุนูุฏูุง ูููู ูุฏููุง ุนูู ููุซู ุนูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ (CPU-intensive work).

ูุฏ ุชุจุฏู ุงูุจุฑูุฌุฉ ุงููุชุนุฏุฏุฉ threads ูุงูุจุฑูุฌุฉ ุงููุชุนุฏุฏุฉ ุงูุนูููุงุช ููุฃููุง ุญููู ุณุญุฑูุฉ ูุชูููู ุงูุชุฒุงูู ูู ุจุงูุซูู. ููุน ุฐููุ ูุฅู ููุฉ ูุฐู ุงูููุงุฐุฌ ูู ุงูุชุฒุงูู ุชุนูููุง ุชูุงุตูู ุงูุชูููุฐ ูู ุจุงูุซูู - GIL.

###  ุฅูุดุงุก ุนูููุงุช ูุชุนุฏุฏุฉ
```python
import multiprocessing
import os

def hello_from_process():
    print(f'Hello from child process {os.getpid()}!')

if __name__ == '__main__':
    hello_process = multiprocessing.Process(target=hello_from_process)
    hello_process.start()
    print(f'Hello from parent process {os.getpid()}')
    hello_process.join()
```


![alt text](image-5.png)
ุฅููู ุงููุต ุงููุชุฑุฌู ูุงูููููุณููู ููููู ููุงุณุจูุง ููุงุณุชุฎุฏุงู ูู ุชูุณูู Markdown:

---

## ููู ุงูููู ุงูุนุงู ูููุชุฑุฌู (Global Interpreter Lock - GIL) ๐

ุงูููู ุงูุนุงู ูููุชุฑุฌูุ ุงููุฎุชุตุฑ ุจู **GIL**ุ ูู ููุถูุน ูุซูุฑ ููุฌุฏู ูู ูุฌุชูุน ุจุงูุซูู. ุจุฅูุฌุงุฒุ ูููุน ุงูู GIL ุนูููุฉ ุจุงูุซูู ูุงุญุฏุฉ ูู ุชูููุฐ ุฃูุซุฑ ูู ุชุนูููุงุช ุจุงูุช ุจุงูุซูู ูู ููุช ูุงุญุฏ. ููุฐุง ูุนูู ุฃูู ุญุชู ูู ูุงู ูุฏููุง ุนุฏุฉ **threads** ุนูู ุฌูุงุฒ ูุฒูุฏ ุจุฃูููุฉ ูุชุนุฏุฏุฉุ ูููู ูุนูููุฉ ุจุงูุซูู ูุงุญุฏุฉ ุฃู ุชุนูู ุจูุง thread ูุงุญุฏุฉ ููุท ูู ููุช ูุนูู. ูู ุนุงูู ูุญุชูู ุนูู ูุญุฏุงุช ูุนุงูุฌุฉ ูุฑูุฒูุฉ ูุชุนุฏุฏุฉ ุงููููุ ูููู ุฃู ูุดูู ุฐูู ุชุญุฏููุง ูุจูุฑูุง ููุทูุฑู ุจุงูุซูู ุงูุฐูู ูุณุนูู ููุงุณุชูุงุฏุฉ ูู **multithreading** ูุชุญุณูู ุฃุฏุงุก ุชุทุจููุงุชูู.

> **ููุงุญุธุฉ**: ูููู ูู **multiprocessing** ุชุดุบูู ุชุนูููุงุช ุจุงูุช ูุชุนุฏุฏุฉ ูู ููุช ูุงุญุฏุ ูุฃู ูู ุนูููุฉ ุจุงูุซูู ูุฏููุง ููู GIL ุฎุงุต ุจูุง.

### ููุงุฐุง ููุฌุฏ ุงูู GILุ

ุงูุฌูุงุจ ูููู ูู ููููุฉ ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ูู **CPython**. ูู **CPython**ุ ุชุชู ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ุจุดูู ุฃุณุงุณู ุจูุงุณุทุฉ ุนูููุฉ ุชูุนุฑู ุจู **ุงูุนุฏ ุงููุฑุฌุนู** (Reference Counting). ูุนูู ุงูุนุฏ ุงููุฑุฌุนู ุนู ุทุฑูู ุชุชุจุน ูู ูุญุชุงุฌ ุญุงูููุง ูููุตูู ุฅูู ูุงุฆู ุจุงูุซูู ูุนููุ ูุซู ุนุฏุฏ ุตุญูุญุ ุฃู ูุงููุณุ ุฃู ูุงุฆูุฉ. 

- **ุงูุนุฏ ุงููุฑุฌุนู** ูู ุนุฏุฏ ุตุญูุญ ูุชุชุจุน ุนุฏุฏ ุงูุฃูุงูู ุงูุชู ุชุดูุฑ ุฅูู ุฐูู ุงููุงุฆู ุงููุญุฏุฏ. 
- ุนูุฏูุง ูุง ูุญุชุงุฌ ุดุฎุต ูุง ุฅูู ุฐูู ุงููุงุฆูุ ูุชู ุชูููู ุงูุนุฏ ุงููุฑุฌุนูุ ูุนูุฏูุง ูุญุชุงุฌ ุดุฎุต ุขุฎุฑ ุฅูููุ ูุชู ุฒูุงุฏุชู. 
- ุนูุฏูุง ูุตู ุงูุนุฏ ุงููุฑุฌุนู ุฅูู ุงูุตูุฑุ ูุง ุฃุญุฏ ูุดูุฑ ุฅูู ุงููุงุฆูุ ููููู ุญุฐูู ูู ุงูุฐุงูุฑุฉ.

### ูุง ูู CPythonุ

**CPython** ูู ุงูุชุทุจูู ุงููุฑุฌุนู ููุบุฉ ุจุงูุซูู. ุจูุนูู ุงูุชุทุจูู ุงููุฑุฌุนูุ ูุนูู ุฃูู ุงูุชูููุฐ ุงูููุงุณู ููุบุฉ ููุณุชุฎุฏู ููุฑุฌุน ููุณููู ุงูุตุญูุญ ููุบุฉ. ููุงู ุชุทุจููุงุช ุฃุฎุฑู ููุบุฉ ุจุงูุซูู ูุซู **Jython**ุ ุงููุตููุฉ ููุนูู ุนูู **Java Virtual Machine**ุ ู**IronPython**ุ ุงููุตููุฉ ูุฅุทุงุฑ ุงูุนูู **.NET**.

### ุงููุฒุงุน ูุน threads

ุชูุจุน ุงููุดููุฉ ูุน **threads** ูู ุฃู ุงูุชูููุฐ ูู **CPython** ููุณ ุขูููุง ุถุฏ **threads**. ุนูุฏูุง ูููู ุฅู **CPython** ููุณ ุขูููุง ุถุฏ **threads**ุ ูุนูู ุฃูู ุฅุฐุง ูุงูุช ุงุซูุชุงู ุฃู ุฃูุซุฑ ูู **threads** ุจุชุนุฏูู ูุชุบูุฑ ูุดุชุฑูุ ููุฏ ููุชูู ูุฐุง ุงููุชุบูุฑ ูู ุญุงูุฉ ุบูุฑ ูุชููุนุฉ. ูุฐู ุงูุญุงูุฉ ุบูุฑ ุงููุชููุนุฉ ุชุนุชูุฏ ุนูู ุชุฑุชูุจ ูุตูู **threads** ุฅูู ุงููุชุบูุฑุ ุงููุนุฑูู ุนููููุง ุจู **ุญุงูุฉ ุงูุณุจุงู (Race Condition)**.

ูููู ุฃู ุชูุดุฃ ุญุงูุงุช ุงูุณุจุงู ุนูุฏูุง ุชุญุชุงุฌ ุงุซูุชุงู ูู **threads** ุฅูู ุงูุฅุดุงุฑุฉ ุฅูู ูุงุฆู ุจุงูุซูู ูู ููุณ ุงูููุช. ููุง ูู ููุถุญ ูู ุงูุดูู ุงูุชุงูู ุฅุฐุง ุฒุงุฏุช ุงุซูุชุงู ูู **threads** ุงูุนุฏ ุงููุฑุฌุนู ูู ููุช ูุงุญุฏุ ูุฏ ููุงุฌู ุญุงูุฉ ุญูุซ ุชุชุณุจุจ **thread** ูุงุญุฏุฉ ูู ุฃู ูููู ุงูุนุฏ ุงููุฑุฌุนู ุตูุฑูุง ุจูููุง ูุง ุชุฒุงู **thread** ุงูุฃุฎุฑู ุชุณุชุฎุฏู ุงููุงุฆู. ุงููุชูุฌุฉ ุงููุญุชููุฉ ููุฐุง ุณุชููู ุงูููุงุฑ ุงูุชุทุจูู ุนูุฏูุง ูุญุงูู ูุฑุงุกุฉ ุงูุฐุงูุฑุฉ ุงููุญุฐููุฉ ุงููุญุชููุฉ.

![alt text](image-6.png)

---

## ุงูุดูู ุงูุณุงุจุซ ุญุงูุฉ race condition ุญูุซ ุชุญุงูู ุงุซูุชุงู ูู ุงูู threads ุฒูุงุฏุฉ ุงูุนุฏ ุงููุฑุฌุนู ูู ููุณ ุงูููุช. ุจุฏูุงู ูู ุงูุญุตูู ุนูู ุนุฏ ูุชููุน ูุณุงูู ุงุซูููุ ูุญุตู ุนูู ูุงุญุฏ.

ูุชูุถูุญ ุชุฃุซูุฑ ุงูู GIL ุนูู ุจุฑูุฌุฉ **multithreaded**ุ ุฏุนููุง ูุจุญุซ ูู ูููุฉ ุชุชุทูุจ ููุงุฑุฏ ูุนุงูุฌุฉ ูุฑูุฒูุฉ ุนุงููุฉ ููู ุญุณุงุจ ุงูุนุฏุฏ **nth** ูู ุชุณูุณู **Fibonacci**. ุณูุณุชุฎุฏู ุชูููุฐูุง ุจุทูุฆูุง ูุณุจููุง ููุฎูุงุฑุฒููุฉ ูุชูุถูุญ ุนูููุฉ ุชุณุชุบุฑู ููุชูุง ุทูููุงู. ุงูุญู ุงูููุงุณุจ ุณูุณุชุฎุฏู ุชูููุฉ **memoization** ุฃู ุชูููุงุช ุฑูุงุถูุฉ ูุชุญุณูู ุงูุฃุฏุงุก.

### ูุงุฆูุฉ 1.5: ุชูููุฏ ูุชูููุช ุชุณูุณู Fibonacci

```python
import time

def print_fib(number: int) -> None:
    def fib(n: int) -> int:
        if n == 1:
            return 0
        elif n == 2:
            return 1
        else:
            return fib(n - 1) + fib(n - 2)
    
    print(f'fib({number}) is {fib(number)}')

def fibs_no_threading():
    print_fib(40)
    print_fib(41)
    
    start = time.time()
    fibs_no_threading()
    end = time.time()
    print(f'Completed in {end - start:.4f} seconds.')
```

ูุณุชุฎุฏู ูุฐุง ุงูุชูููุฐ **ุงูุชูุฑุงุฑ (recursion)** ููู ุฎูุงุฑุฒููุฉ ุจุทูุฆุฉ ูุณุจููุงุ ุชุชุทูุจ ููุชูุง ุฃูุณูููุง **O(2^N)** ูุฅููุงููุง. ุฅุฐุง ููุง ูู ูููู ูุญุชุงุฌ ููู ุฅูู ุทุจุงุนุฉ ุนุฏุฏูู ูู **Fibonacci**ุ ููู ุงูุณูู ุงุณุชุฏุนุงุคููุง ุจุดูู ูุชุฒุงูู ูููุงุณ ุงููุชูุฌุฉุ ููุง ูุนููุง ูู ุงููุงุฆูุฉ ุงูุณุงุจูุฉ.

ุงุนุชูุงุฏูุง ุนูู ุณุฑุนุฉ ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุงูุชู ูุดุบู ุนูููุงุ ุณูุฑู ุชูููุชุงุช ูุฎุชููุฉุ ููู ุชุดุบูู ุงูููุฏ ูู ูุงุฆูุฉ 1.5 ุณูุนุทู ูุฎุฑุฌุงุช ูุดุงุจูุฉ ููุง ููู:

```
fib(40) is 63245986
fib(41) is 102334155
Completed in 65.1516 seconds.
```

ูุฐู ุนูููุฉ ุญุณุงุจ ุทูููุฉ ุฅูู ุญุฏ ูุงุ ููู ุงุณุชุฏุนุงุกุงุชูุง ุฅูู **print_fibs** ูุณุชููุฉ ุนู ุจุนุถูุง ุงูุจุนุถ. ููุฐุง ูุนูู ุฃูู ูููู ูุถุนูุง ูู ุนุฏุฉ **threads** ูููู ููุญุฏุชูุง ุงููุนุงูุฌุฉุ ูุธุฑููุงุ ุชุดุบูููุง ุจุดูู ูุชุฒุงูู ุนูู ููู ูุชุนุฏุฏุฉุ ูุจุงูุชุงูู ุชุณุฑูุน ุชุทุจูููุง.

### ูุงุฆูุฉ 1.6: ุชูููุฐ ุชุณูุณู Fibonacci ุจุงุณุชุฎุฏุงู **multithreading**

```python
import threading
import time

def print_fib(number: int) -> None:
    def fib(n: int) -> int:
        if n == 1:
            return 0
        elif n == 2:
            return 1
        else:
            return fib(n - 1) + fib(n - 2)

def fibs_with_threads():
    fortieth_thread = threading.Thread(target=print_fib, args=(40,))
    forty_first_thread = threading.Thread(target=print_fib, args=(41,))
    
    fortieth_thread.start()
    forty_first_thread.start()
    
    fortieth_thread.join()
    forty_first_thread.join()
    
    start_threads = time.time()
    fibs_with_threads()
    end_threads = time.time()
    print(f'Threads took {end_threads - start_threads:.4f} seconds.')
```

ูู ุงููุงุฆูุฉ ุงูุณุงุจูุฉุ ูููู ุจุฅูุดุงุก ุงุซูุชูู ูู **threads**ุ ูุงุญุฏุฉ ูุญุณุงุจ **fib(40)** ูุงูุฃุฎุฑู ูุญุณุงุจ **fib(41)**ุ ููุจุฏุฃููุง ุจุดูู ูุชุฒุงูู ุนู ุทุฑูู ุงุณุชุฏุนุงุก `start()` ููู **thread**. ุซู ูููู ุจุงุณุชุฏุนุงุก `join()`ุ ููุง ุณูุฌุนู ุจุฑูุงูุฌูุง ุงูุฑุฆูุณู ููุชุธุฑ ุญุชู ุชูุชูู **threads**. ุจุงููุธุฑ ุฅูู ุฃููุง ุจุฏุฃูุง ุญุณุงุจ **fib(40)** ู**fib(41)** ูู ููุณ ุงูููุช ููููุง ุจุชุดุบููููุง ุจุดูู ูุชุฒุงููุ ูุฏ ุชุนุชูุฏ ุฃููุง ูููู ุฃู ูุฑู ุชุณุฑูุนูุง ูุนููููุงุ ููุน ุฐููุ ุณูุฑู ูุฎุฑุฌุงุช ูุดุงุจูุฉ ููุง ููู ุญุชู ุนูู ุฌูุงุฒ ูุฒูุฏ ุจุฃูููุฉ ูุชุนุฏุฏุฉ:

```
fib(40) is 63245986
fib(41) is 102334155
Threads took 66.1059 seconds.
```

ุงุณุชุบุฑูุช ุงููุณุฎุฉ ุจุงุณุชุฎุฏุงู **threads** ุชูุฑูุจูุง ููุณ ูููุฉ ุงูููุช. ูู ุงููุงูุนุ ูุงูุช ุฃุจุทุฃ ููููุงู! ูุฐุง ูุฑุฌุน ุชูุฑูุจูุง ุจุงููุงูู ุฅูู ุงูู GIL ูุชูุงููู ุฅูุดุงุก ูุฅุฏุงุฑุฉ **threads**. ุจูููุง ูู ุงูุตุญูุญ ุฃู **threads** ุชุนูู ุจุดูู ูุชุฒุงููุ ุฅูุง ุฃูู ููุณูุญ ููุงุญุฏุฉ ููุท ูููุง ุจุชุดุบูู ููุฏ ุจุงูุซูู ูู ููุช ูุนูู ุจุณุจุจ ุงูููู. ูุฐุง ูุชุฑู **thread** ุงูุฃุฎุฑู ูู ุญุงูุฉ ุงูุชุธุงุฑ ุญุชู ุชูุชูู ุงูุฃูููุ ููุง negates ุชูุงููุง ูููุฉ **threads** ุงููุชุนุฏุฏุฉ.
###  ูู ูุชู ุชุญุฑูุฑ **GIL**ุ

๐ ุจูุงุกู ุนูู ุงููุซุงู ุงูุณุงุจูุ ูุฏ ุชุชุณุงุกู ุนูุง ุฅุฐุง ูุงู ูููู ุชุญููู **ุงูุชุฒุงูู** ูู **Python** ุจุงุณุชุฎุฏุงู **threads**ุ ูุธุฑูุง ูุฃู **GIL** ูููุน ุชุดุบูู ุณุทุฑูู ูู ููุฏ **Python** ูู ููุณ ุงูููุช. ููุน ุฐููุ ูุฅู **GIL** ูุง ูุชู ุงูุงุญุชูุงุธ ุจู ุฅูู ุงูุฃุจุฏุ ููุง ูุชูุญ ููุง ุงุณุชุฎุฏุงู **threads** ูุตุงูุญูุง.

๐ ูุชู ุชุญุฑูุฑ **GIL** ุนูุฏูุง ุชุญุฏุซ ุนูููุงุช **I/O**. ูุฐุง ูุณูุญ ููุง ุจุงุณุชุฎุฏุงู **threads** ูุชูููุฐ ุงูุฃุนูุงู ุงููุชุฒุงููุฉ ูููุง ูุชุนูู ุจุนูููุงุช **I/O**ุ ูููู ููุณ ุนูุฏ ุงูุชุนุงูู ูุน ููุฏ **Python** ุงููุฑูู ูููุนุงูุฌ **(CPU-bound)** (ููุงู ุจุนุถ ุงูุงุณุชุซูุงุกุงุช ุงูููุญูุธุฉ ุงูุชู ุชุญุฑุฑ **GIL** ุนูุฏ ุงูููุงู ุจุนูููุงุช ูุนุงูุฌุฉ ุซูููุฉ ูู ุธุฑูู ูุนููุฉุ ูุณูุชูุงูููุง ูู ูุตู ูุงุญู). 

#### ๐ ูุดุฑุญ ุฐููุ ุฏุนูุง ูุณุชุฎุฏู ูุซุงููุง ุจุณูุทูุง ููุฑุงุกุฉ **status code** ูุตูุญุฉ ููุจ.

```python
import time
import requests

def read_example() -> None:
    response = requests.get('https://www.example.com')
    print(response.status_code)

sync_start = time.time()
read_example()
read_example()
sync_end = time.time()

print(f'Running synchronously took {sync_end - sync_start:.4f} seconds.')
```

๐ง ูู ุงูููุฏ ุฃุนูุงูุ ูููู ุจุฌูุจ ูุญุชููุงุช **example.com** ูุทุจุงุนุฉ **status code** ูุฑุชูู. ุจูุงุกู ุนูู ุณุฑุนุฉ ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช ููููุนูุ ูุฏ ุชุญุตู ุนูู ูุชุงุฆุฌ ูุดุงุจูุฉ ููุง ููู:

```
200
200
Running synchronously took 0.2306 seconds.
```

ุงูุขู ุจุนุฏ ุฃู ุญุตููุง ุนูู ุฃุณุงุณ ููุง ูุจุฏู ุนููู ุงูุฅุตุฏุงุฑ ุงููุชุฒุงูู **(synchronous)**ุ ูููููุง ูุชุงุจุฉ ูุณุฎุฉ ูุชุนุฏุฏุฉ **ุงูู threads** ููููุงุฑูุฉ.

#### ๐ ูุณุฎุฉ ูุชุนุฏุฏุฉ **ุงูู threads** ููุฑุงุกุฉ **status code**:

```python
import time
import threading
import requests

def read_example() -> None:
    response = requests.get('https://www.example.com')
    print(response.status_code)

# Creating two threads
thread_1 = threading.Thread(target=read_example)
thread_2 = threading.Thread(target=read_example)

# Timing the thread execution
thread_start = time.time()
thread_1.start()
thread_2.start()
print('All threads running!')

# Waiting for the threads to complete
thread_1.join()
thread_2.join()

thread_end = time.time()
print(f'Running with threads took {thread_end - thread_start:.4f} seconds.')
```

๐ฏ ุนูุฏูุง ูููุฐ ูุฐุง ุงูููุฏุ ุณูุฑู ูุชุงุฆุฌ ูุดุงุจูุฉ ููุง ูููุ ุจูุงุกู ุนูู ุณุฑุนุฉ ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช ูููุงุตูุงุช ุงูุฌูุงุฒ:

```
All threads running!
200
200
Running with threads took 0.0977 seconds.
```

๐ ูุฐุง ุฃุณุฑุน ุจูุฑุชูู ุชูุฑูุจูุง ูู ุงููุณุฎุฉ ุงูุฃุตููุฉ ุงูุชู ูู ุชุณุชุฎุฏู **threads**ุ ุญูุซ ุชู ุชุดุบูู ุงูุทูุจูู ูู ููุณ ุงูููุช ุชูุฑูุจูุง.

---

### ๐งฉ ููู ูุชู ุชุญุฑูุฑ **GIL** ูุนูููุงุช **I/O** ูููู ููุณ ูุนูููุงุช **CPU-bound**ุ

๐ ูุชู ุชุญุฑูุฑ **GIL** ูู ุญุงูุฉ **I/O** ูุฃู ุงูุงุณุชุฏุนุงุกุงุช ุงููุธุงููุฉ **(system calls)** ุงูุชู ุชุชู ูู ุงูุฎูููุฉ ุชููู ุฎุงุฑุฌ ุชุดุบูู **Python**. ูุณูุญ ูุฐุง ุจุชุญุฑูุฑ **GIL** ูุฃู ุงููุธุงู ูุง ูุชุนุงูู ูุจุงุดุฑุฉ ูุน ูุงุฆูุงุช **Python**. ูุชู ุฅุนุงุฏุฉ ุงูุชุณุงุจ **GIL** ููุท ุนูุฏ ุชุฑุฌูุฉ ุงูุจูุงูุงุช ุงููุณุชููุฉ ูุฑุฉ ุฃุฎุฑู ุฅูู ูุงุฆูุงุช **Python**. 

๐ ูู ูุฐู ุงูุญุงูุฉุ ุชุนูู ุนูููุงุช **I/O** ุนูู ูุณุชูู ุงููุธุงู ุจุดูู ูุชุฒุงููุ ููุง ูููุฑ **ุงูุชุฒุงูู** ุฏูู **ุงูุชูุงุฒู**.

---

### `asyncio` ู **GIL**

๐ **asyncio** ูุณุชุบู ุญูููุฉ ุฃู ุนูููุงุช **I/O** ุชูุญุฑุฑ **GIL**ุ ููุง ูููุญูุง **ุงูุชุฒุงูู** ุญุชู ูุน ูุฌูุฏ **thread** ูุงุญุฏ ููุท. ุนูุฏ ุงุณุชุฎุฏุงููุง ูู **asyncio**ุ ูููู ุจุฅูุดุงุก ูุงุฆูุงุช ุชูุฏุนู **coroutines**. ูููู ุงูุชูููุฑ ูู **coroutine** ุนูู ุฃููุง ุชุนูู ูุซู **thread** ุฎููู ุงููุฒู. 


๐ก ุชูุงููุง ููุง ูููู ุฃู ูููู ูุฏููุง ุนุฏุฉ **threads** ุชุนูู ูู ููุณ ุงูููุชุ ูู ูููุง ูุชุนุงูู ูุน ุนูููุฉ **I/O** ูุชุฒุงููุฉุ ูููู ุฃู ูููู ูุฏููุง ุงูุนุฏูุฏ ูู **coroutines** ุชุนูู ุจุฌุงูุจ ุจุนุถูุง ุงูุจุนุถ. ุจูููุง ููุชุธุฑ ุงูุชูุงุก **coroutines** ุงููุชุนููุฉ ุจู **I/O**ุ ูููููุง ุงูุงุณุชูุฑุงุฑ ูู ุชูููุฐ ููุฏ **Python** ุขุฎุฑุ ููุง ูููุญูุง **ุงูุชุฒุงูู**.

๐ ูู ุงูููู ููุงุญุธุฉ ุฃู **asyncio** ูุง ุชุชุฌุงูุฒ **GIL**ุ ููุง ุฒููุง ุฎุงุถุนูู ููุง. ุฅุฐุง ูุงู ูุฏููุง ูููุฉ ุชุชุทูุจ ูุนุงูุฌุฉ ููุซูุฉ ูููุนุงูุฌ **(CPU-bound)**ุ ูุฅููุง ูุญุชุงุฌ ูุงุณุชุฎุฏุงู ุนูููุงุช ูุชุนุฏุฏุฉ ูุชูููุฐูุง ุจุงูุชุฒุงูู (ูููู ุงูููุงู ุจุฐูู ูุน **asyncio** ููุณูุง)ุ ูุฅูุงุ ุณูุณุจุจ ูุดุงูู ูู ุงูุฃุฏุงุก ูู ุชุทุจูููุง.

### ๐ค ููู ูุนูู ุฐูู ูุน **sockets** ุบูุฑ ุงููุญุธูุฑุฉุ

ููุจุฏุฃ ูู ุงุณุชูุดุงู ุชูุงุตูู ููููุฉ ุนูู **asyncio** ูุน **sockets** ุบูุฑ ุงููุญุธูุฑุฉุ ุญูุซ ุชููุฑ ููุง ุงููุฏุฑุฉ ุนูู ุฅุฏุงุฑุฉ ุนุฏุฉ ุงุชุตุงูุงุช ูู ููุณ ุงูููุชุ ููุง ูุณุงูู ูู ุชุญุณูู ุฃุฏุงุก ุงูุชุทุจููุงุช ุงูุชู ุชุนุชูุฏ ุนูู **I/O**. 

#### ๐ ูุซุงู ุนูู ุงุณุชุฎุฏุงู `asyncio` ูุน **sockets** ุบูุฑ ุงููุญุธูุฑุฉ:

```python
import asyncio
import socket

async def fetch_data(host, port):
    reader, writer = await asyncio.open_connection(host, port)
    # Format the host as a string in the bytes literal
    writer.write(f'GET / HTTP/1.0\r\nHost: {host}\r\n\r\n'.encode())
    await writer.drain()  # Ensure data is sent

    data = await reader.read(100)
    print(f'Received: {data.decode()}')
    
    writer.close()
    await writer.wait_closed()

async def main():
    hosts = [('www.example.com', 80), ('www.google.com', 80)]
    tasks = [fetch_data(host, port) for host, port in hosts]
    await asyncio.gather(*tasks)

asyncio.run(main())

```

### ๐ ุดุฑุญ ุงูููุฏ:

ุจุงูุทุจุน! ููุบูุต ูู ุชูุงุตูู ุงูููุฏ ุฎุทูุฉ ุจุฎุทูุฉ. ุณุฃุดุฑุญ ูู ุฌุฒุก ูู ุงูุนูููุฉ ุงูุชู ุชุชุถูู ูุชุญ ุงุชุตุงู ุบูุฑ ูุญุธูุฑุ ููุชุงุจุฉ ุงูุจูุงูุงุชุ ููุฑุงุกุฉ ุงูุจูุงูุงุชุ ูุฅุบูุงู ุงูุงุชุตุงู.

### 1. ูุชุญ ุงูุงุชุตุงู

ุนูุฏ ุงุณุชุฎุฏุงู ุฏุงูุฉ `asyncio.open_connection`ุ ูููู ุจูุชุญ ุงุชุตุงู ุบูุฑ ูุญุธูุฑ ูุน ุงูุฎุงุฏู. ูุฐุง ูุนูู ุฃููุง ูู ูููู ุจููู ุชูููุฐ ุงูุจุฑูุงูุฌ ุฃุซูุงุก ุงูุชุธุงุฑ ุงูุงุชุตุงู.

```python
reader, writer = await asyncio.open_connection(host, port)
```

- **`host`**: ูู ุนููุงู ุงูุฎุงุฏู ุงูุฐู ูุฑูุฏ ุงูุงุชุตุงู ุจู (ูุซู `www.example.com`).
- **`port`**: ูู ุฑูู ุงููููุฐ ุงูุฐู ูุณุชูุน ุฅููู ุงูุฎุงุฏู (ุนุงุฏุฉู 80 ูู HTTP ู443 ูู HTTPS).
- **`reader` ู`writer`**: ูุฐุงู ุงููุงุฆูุงู ูุณุชุฎุฏูุงู ููุฑุงุกุฉ ุงูุจูุงูุงุช ูู ุงูุงุชุตุงู ููุชุงุจุฉ ุงูุจูุงูุงุช ุฅูููุ ุนูู ุงูุชูุงูู.

### 2. ูุชุงุจุฉ ุงูุจูุงูุงุช

ุจุนุฏ ูุชุญ ุงูุงุชุตุงูุ ูุญุชุงุฌ ุฅูู ุฅุฑุณุงู ุทูุจ ุฅูู ุงูุฎุงุฏู. ูุฐุง ูุชู ุนุงุฏุฉู ุจุงุณุชุฎุฏุงู ุจุฑูุชูููู HTTP.

```python
writer.write(request.encode())
```

- **`request`**: ูู ุงููุต ุงูุฐู ููุซู ุทูุจ HTTP. ูุฌุจ ุฃู ูุชู ุชุฑููุฒู ุฅูู ุจุงูุชุงุช ุจุงุณุชุฎุฏุงู `encode()` ูุจู ุฅุฑุณุงูู.
- **`writer.write `** ุชุณุชุฎุฏู ูุฐู ุงูุฏุงูุฉ ููุชุงุจุฉ ุงูุจูุงูุงุช ุฅูู ุงูุงุชุตุงู. ูู ุงูููู ููุงุญุธุฉ ุฃููุง ูุฏ ูุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู 
- `await writer.drain` ุจุนุฏ ูุชุงุจุฉ ุงูุจูุงูุงุช ููุชุฃูุฏ ูู ุฃู ุงูุจูุงูุงุช ูุฏ ุฃูุฑุณูุช ุจุงููุนู.

### 3. ูุฑุงุกุฉ ุงูุจูุงูุงุช

ุจุนุฏ ุฅุฑุณุงู ุงูุทูุจุ ูุญุชุงุฌ ุฅูู ุงูุงูุชุธุงุฑ ูุงุณุชูุงู ุงูุจูุงูุงุช ูู ุงูุฎุงุฏู. ูููู ุงูููุงู ุจุฐูู ุจุงุณุชุฎุฏุงู ุฏุงูุฉ `reader.read`.

```python
response = await reader.read()
```

- **`reader.read()`**: ูุฐู ุงูุฏุงูุฉ ุชูุชุธุฑ ุญุชู ูุชู ุงุณุชูุงู ุงูุจูุงูุงุช. ูุนูุฏูุง ุชุชููู ุงูุจูุงูุงุชุ ูุชู ุชุฎุฒูููุง ูู ุงููุชุบูุฑ `response`.
- ูุฏ ูุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ุนุฏุฏ ุงูุจุงูุชุงุช ุงูุชู ูุฑูุฏ ูุฑุงุกุชูุงุ ุฃู ูููู ุงุณุชุฎุฏุงู ุฏูุงู ูุซู `reader.readline()` ููุฑุงุกุฉ ุงูุจูุงูุงุช ุญุชู ุงููุตูู ุฅูู ููุงูุฉ ุงูุณุทุฑ.

### 4. ุฅุบูุงู ุงูุงุชุตุงู

ุจุนุฏ ุงูุงูุชูุงุก ูู ูุฑุงุกุฉ ุงูุจูุงูุงุชุ ูู ุงูููู ุฅุบูุงู ุงูุงุชุตุงู ูุชุญุฑูุฑ ุงูููุงุฑุฏ.

```python
writer.close()
await writer.wait_closed()
```

- **`writer.close`**: ุชุบูู ูุฐุง ุงูุงุชุตุงูุ ููุง ูุนูู ุฃููุง ูู ูุณุชุทูุน ุฅุฑุณุงู ุงููุฒูุฏ ูู ุงูุจูุงูุงุช.
- **`await writer.wait_closed`**: ูุฐู ุงูุฏุงูุฉ ุชุถูู ุฃู ุงูุงุชุตุงู ูุฏ ุชู ุฅุบูุงูู ุจุงููุงูู ูุจู ุฃู ููุชูู ุฅูู ุฃู ุนูููุงุช ุฃุฎุฑู. ูุฐุง ูููุฏ ูุถูุงู ุนุฏู ูุฌูุฏ ุชุณุฑุจ ููููุงุฑุฏ.

### ูุซุงู ูุงูู

ุฅููู ูุซุงู ูุงูู ูููููุฉ ุชูููุฐ ุฐูู:

```python
import asyncio

async def fetch_data(host, port):
    reader, writer = await asyncio.open_connection(host, port)

    # ูุชุงุจุฉ ุทูุจ HTTP
    request = 'GET / HTTP/1.1\r\nHost: {}\r\n\r\n'.format(host)
    writer.write(request.encode())
    await writer.drain()

    # ูุฑุงุกุฉ ุงูุงุณุชุฌุงุจุฉ
    response = await reader.read()

    # ุทุจุงุนุฉ ุงูุงุณุชุฌุงุจุฉ
    print(response.decode())

    # ุฅุบูุงู ุงูุงุชุตุงู
    writer.close()
    await writer.wait_closed()

# ุชุดุบูู ุงูุฏุงูุฉ
asyncio.run(fetch_data('www.example.com', 80))
```

### ุงูุฎูุงุตุฉ

ุชุชูุญ ููุง ููุชุจุฉ `asyncio` ุงูุชุนุงูู ูุน ุงุชุตุงูุงุช ุงูุดุจูุฉ ุจุดูู ุบูุฑ ูุญุธูุฑุ ููุง ูุนุฒุฒ ุฃุฏุงุก ุงูุชุทุจููุงุช ุงูุชู ุชุนุชูุฏ ุนูู ุฅุฏุฎุงู ูุฅุฎุฑุงุฌ ุงูุจูุงูุงุชุ ูุซู ุชุทุจููุงุช ุงูููุจ ุฃู ุงูุจุฑุงูุฌ ุงูุชู ุชุชูุงุนู ูุน ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช.
๐ ุจุงุณุชุฎุฏุงู `asyncio`ุ ูููููุง ุฅุฌุฑุงุก ุงุชุตุงูุงุช ูุชุนุฏุฏุฉ ุจุงูุชุฒุงููุ ููุง ูุญูู ููุงุกุฉ ุฃูุถู ุฃุซูุงุก ุงูุชุธุงุฑ ุงุณุชุฌุงุจุฉ ุงูุฎุงุฏู. ูุฐุง ูุนูุณ ูุฏุฑุฉ **asyncio** ุนูู ุงุณุชุบูุงู **GIL** ูุชุญุณูู ุฃุฏุงุก ุนูููุงุช **I/O**ุ ููุง ูุฌุนููุง ุฃุฏุงุฉ ูููุฉ ูุชุทุจููุงุช ุงูุดุจูุฉ.


---



## ููู ุชุนูู ุงูุชุฒุงูู ูู ุงูู Thread ุงููุงุญุฏ

ูู ุงููุณู ุงูุณุงุจูุ ูุฏููุง ุงูู Threads ุงููุชุนุฏุฏุฉ ูุขููุฉ ูุชุญููู ุงูุชุฒุงูู ูู ุนูููุงุช ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ.

ููุน ุฐููุ ูุง ูุญุชุงุฌ ุฅูู Threads ูุชุนุฏุฏุฉ ูุชุญููู ูุฐุง ุงูููุน ูู ุงูุชุฒุงูู. ูููููุง ุงูููุงู ุจูู ุฐูู ุถูู ุญุฏูุฏ ุนูููุฉ ูุงุญุฏุฉ ูThread ูุงุญุฏ.

ูููู ุจุฐูู ูู ุฎูุงู ุงุณุชุบูุงู ุญูููุฉ ุฃู ุนูููุงุช ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ ูููู ุฃู ุชูููุฐ ุจุดูู ูุชุฒุงูู ุนูู ูุณุชูู ุงููุธุงูุ ููุง ูุนูู ุฃูู ูููู ูููุธุงู ุงูุชุนุงูู ูุน ุฃูุซุฑ ูู ุนูููุฉ ุฅุฏุฎุงู ูุฅุฎุฑุงุฌ ูู ุงูููุช ููุณู.

ูููู ุฐูู ุจุดูู ุฃูุถูุ ุณูุญุชุงุฌ ุฅูู ุงูุบูุต ูู ููููุฉ ุนูู ุงูู Socketsุ ูุจุดูู ุฎุงุต ููููุฉ ุนูู ุงูู Sockets ุบูุฑ ุงูุญุงุตุฑุฉ.

---



## ูุง ูู ุงูู Socketsุ 

๐ **ุงูู Socket** ูู ููููู ุฃุณุงุณู ูุฅุฑุณุงู ูุงุณุชูุจุงู ุงูุจูุงูุงุช ุนุจุฑ ุงูุดุจูุฉ. ููู ุงูุฃุณุงุณ ูููููุฉ ููู ุงูุจูุงูุงุช ุฅูู ููู ุงูุฎูุงุฏู. 

๐ฆ **ุนูููุงุช ุงูู Socket** ุชุฏุนู ุนูููุชูู ุฑุฆูุณูุชูู:
- **ุฅุฑุณุงู ุงูุจุงูุชุงุช** 
- **ุงุณุชูุจุงู ุงูุจุงูุชุงุช** 

ููุชุจ ุงูุจุงูุชุงุช ุฅูู ุงูู Socketุ ูุงูุชู ุณูุชู ุฅุฑุณุงููุง ุจุนุฏ ุฐูู ุฅูู ุนููุงู ุจุนูุฏุ ุนุงุฏุฉ ูุง ูููู ููุนูุง ูู ุงูุฎูุงุฏู. ุจูุฌุฑุฏ ุฅุฑุณุงู ูุฐู ุงูุจุงูุชุงุชุ ููุชุธุฑ ูู ุงูุฎุงุฏู ุฃู ููุชุจ ุฑุฏู ูุฑุฉ ุฃุฎุฑู ุฅูู ุงูู Socket ุงูุฎุงุต ุจูุง. ุจุนุฏ ุฃู ูุชู ุฅุฑุณุงู ูุฐู ุงูุจุงูุชุงุช ูุฑุฉ ุฃุฎุฑู ุฅูู ุงูู Socketุ ูููููุง ูุฑุงุกุฉ ุงููุชูุฌุฉ.

๐ฌ **ููู ุงูู Sockets**:  
ููููู ุงูุชูููุฑ ูู ุงูู Sockets ูุตูุงุฏูู ุจุฑูุฏ. ููููู ูุถุน ุฑุณุงูุฉ ูู ุตูุฏูู ุจุฑูุฏูุ ุซู ููุชูุทูุง ุญุงูู ุงูุฑุณุงุฆู ููุณูููุง ุฅูู ุตูุฏูู ุจุฑูุฏ ุงููุณุชูู. ููุชุญ ุงููุณุชูู ุตูุฏูู ุจุฑูุฏู ูููุฑุฃ ุฑุณุงูุชู. ุงุนุชูุงุฏูุง ุนูู ุงููุญุชููุ ูุฏ ูุฑุณู ูู ุงููุณุชูู ุฑุณุงูุฉ ุฑุฏ. 

โ๏ธ ูู ูุฐุง ุงูุชุดุจูู:
- ุงูุฑุณุงูุฉ ุชูุซู ุงูุจูุงูุงุช ุฃู ุงูุจุงูุชุงุช ุงูุชู ูุฑูุฏ ุฅุฑุณุงููุง.
- ูุถุน ุงูุฑุณุงูุฉ ูู ุตูุฏูู ุงูุจุฑูุฏ ูู ูุชุงุจุฉ ุงูุจุงูุชุงุช ุฅูู ุงูู Socket.
- ูุชุญ ุตูุฏูู ุงูุจุฑูุฏ ููุฑุงุกุฉ ุงูุฑุณุงูุฉ ูู ูุฑุงุกุฉ ุงูุจุงูุชุงุช ูู ุงูู Socket.

๐ **ุขููุฉ ุงูููู**:  
ูููู ุงุนุชุจุงุฑ ุญุงูู ุงูุฑุณุงุฆู ูุขููุฉ ุงูููู ุนุจุฑ ุงูุฅูุชุฑูุชุ ุงูุชู ุชููู ุจุชูุฌูู ุงูุจูุงูุงุช ุฅูู ุงูุนููุงู ุงูุตุญูุญ.

๐ **ูุซุงู ุนููู**:  
ูู ุญุงูุฉ ุงูุญุตูู ุนูู ุงููุญุชููุงุช ูู example.com ููุง ุฑุฃููุง ุณุงุจููุงุ ูููู ุจูุชุญ Socket ุชุชุตู ุจุฎุงุฏู example.com. ุซู ููุชุจ ุทูุจูุง ููุญุตูู ุนูู ุงููุญุชููุงุช ุฅูู ุชูู ุงูู Socket ูููุชุธุฑ ูู ุงูุฎุงุฏู ุฃู ูุฑุฏ ุจุงููุชูุฌุฉ: ูู ูุฐู ุงูุญุงูุฉุ HTML ุตูุญุฉ ุงูููุจ. ูููููุง ุชุตูุฑ ุชุฏูู ุงูุจุงูุชุงุช ูู ูุฅูู ุงูุฎุงุฏู ููุง ูู ููุถุญ ูู ุงูุดูู ุงูุชุงูู.

![alt text](image-7.png)

---



## ูุชุงุจุฉ ุงูุจุงูุชุงุช ุฅูู ุงูู Socket ููุฑุงุกุฉ ุงูุจุงูุชุงุช ูู ุงูู Socket

๐ **ุงูู Sockets** ุชููู **blocking** ุจุดูู ุงูุชุฑุงุถู. ุจุจุณุงุทุฉุ ูุฐุง ูุนูู ุฃูู ุนูุฏูุง ููุชุธุฑ ูู ุฎุงุฏู ุฃู ูุฑุฏ ุจุงูุจูุงูุงุชุ ูููู ุจุฅููุงู ุชุทุจูููุง ุญุชู ูุญุตู ุนูู ุจูุงูุงุช ูููุฑุงุกุฉ. ูุจุงูุชุงููุ ูุชููู ุชุทุจูููุง ุนู ุชุดุบูู ุฃู ููุงู ุฃุฎุฑู ุญุชู ูุญุตู ุนูู ุจูุงูุงุช ูู ุงูุฎุงุฏูุ ุฃู ูุญุฏุซ ุฎุทุฃุ ุฃู ูุญุฏุซ ุงูุชูุงุก ููููุช.

## ๐ (non-blocking)

ุนูู ูุณุชูู ูุธุงู ุงูุชุดุบููุ ูุง ูุญุชุงุฌ ุฅูู ุงูููุงู ุจูุฐุง ุงูู **blocking**. ูููู ุฃู ุชุนูู ุงูู Sockets ูู ูุถุน **non-blocking**.

### ููู ูุนูู ุฐููุ

1. **โ๏ธ ูุชุงุจุฉ ุงูุจูุงูุงุช**:  
   ุนูุฏูุง ููุชุจ ุจุงูุชุงุช ุฅูู ุงูู Socketุ ูููููุง ุจุจุณุงุทุฉ "ุฅุทูุงู" ุนูููุฉ ุงููุชุงุจุฉ ุฏูู ุงูุญุงุฌุฉ ููุงูุชุธุงุฑ ุญุชู ูุชู ุฅุฑุณุงู ุงูุจูุงูุงุช. 

2. **๐ ุงุณุชูุฑุงุฑ ุงูุชุทุจูู**:  
   ุจุนุฏ ูุชุงุจุฉ ุงูุจูุงูุงุชุ ูุณุชูุฑ ุชุทุจูููุง ูู ุงูุนูู ุนูู ููุงู ุฃุฎุฑู ุจุฏูุงู ูู ุงูุชููู. ูุฐุง ูุนูู ุฃูู ูููููุง ุชูููุฐ ุนูููุงุช ุฅุถุงููุฉ ุฃู ุงูุชุนุงูู ูุน ูุฏุฎูุงุช ุฌุฏูุฏุฉ ูู ุงููุณุชุฎุฏู.

3. **๐ฌ ุงูุฅุฎุทุงุฑ ุจุงูุจูุงูุงุช**:  
   ูุงุญููุงุ ุนูุฏูุง ูุชู ุงุณุชูุงู ุจูุงูุงุช ุฌุฏูุฏุฉ ูู ุงูุฎุงุฏูุ ููุฎุจุฑูุง ูุธุงู ุงูุชุดุบูู ุจุฐูู. ูุฐุง ุงูุฅุดุนุงุฑ ูุนูู ุฃูู ูููููุง ุงูุขู ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ ุฏูู ุงูุญุงุฌุฉ ุฅูู ุงูุงูุชุธุงุฑ.

4. **๐ก ุฒูุงุฏุฉ ุงูุชูุงุนููุฉ**:  
   ุจูุฐู ุงูุทุฑููุฉุ ูุตุจุญ ุฃูุซุฑ ุชูุงุนููุฉ. ุจุฏูุงู ูู ุงูุงูุชุธุงุฑ ุจุดูู ุณูุจู ุญุชู ูุญุตู ุนูู ุงูุจูุงูุงุชุ ูููู ูุงุฏุฑูู ุนูู ุงูุงุณุชูุฑุงุฑ ูู ุงูุนูู ูุงูููุงู ุจุฃุดูุงุก ุฃุฎุฑู ุญุชู ูุชู ุงุณุชูุงู ุงูุจูุงูุงุช.

### โ ุงูููุงุฆุฏ:
- **ุฒูุงุฏุฉ ุงูููุงุกุฉ**: ูุณุชููุฏ ูู ุงูููุช ุจุฏูุงู ูู ุงูุงูุชุธุงุฑ.
- **ุชุญุณูู ุงูุฃุฏุงุก**: ูููู ุฃู ูุคุฏู ุฐูู ุฅูู ุชุทุจููุงุช ุฃูุซุฑ ุงุณุชุฌุงุจุฉุ ุญูุซ ูุง ุชุชููู ุนู ุงูุนูู ููุฌุฑุฏ ุงูุชุธุงุฑ ุงูุจูุงูุงุช.

### ๐ก **Event Notification Systems (ุฃูุธูุฉ ุฅุดุนุงุฑ ุงูุฃุญุฏุงุซ)**

**English**:  
Event Notification Systems are used to monitor I/O sources such as files, networks, and ports (like serial ports), in addition to system operations and other applications. These systems allow applications to be aware of any changes happening to these sources or "events" like new data arrival, completion of a write operation, or even an error.

**Arabic**:  
ุฃูุธูุฉ ุฅุดุนุงุฑ ุงูุฃุญุฏุงุซ ุชูุณุชุฎุฏู ููุฑุงูุจุฉ ูุตุงุฏุฑ ุงูุฅุฏุฎุงู/ุงูุฅุฎุฑุงุฌ ูุซู ุงููููุงุชุ ุงูุดุจูุงุชุ ูุงูููุงูุฐ (ูุซู ุงูููุงูุฐ ุงูุชุณูุณููุฉ)ุ ุจุงูุฅุถุงูุฉ ุฅูู ุนูููุงุช ุงููุธุงู ูุงูุชุทุจููุงุช ุงูุฃุฎุฑู. ุชุณูุญ ูุฐู ุงูุฃูุธูุฉ ููุชุทุจููุงุช ุจุฃู ุชููู ุนูู ุนูู ุจุฃู ุชุบููุฑุงุช ุชุญุฏุซ ุนูู ูุฐู ุงููุตุงุฏุฑ ุฃู "ุฃุญุฏุงุซ" ูุซู ูุตูู ุจูุงูุงุช ุฌุฏูุฏุฉุ ุฃู ุงูุชูุงุก ุนูููุฉ ุงููุชุงุจุฉุ ุฃู ุญุชู ุธููุฑ ุฎุทุฃ.

---

### ๐ **Basic Operation Steps (ุฎุทูุงุช ุงูุนูู ุงูุฃุณุงุณูุฉ)**

#### 1. **Registering Interest in Events (ุชุณุฌูู ุงูุงูุชูุงู ุจุงูุฃุญุฏุงุซ)**

**English**:  
The application initially registers its interest in monitoring certain events for specific resources. For instance, if the application interacts with a network, it registers interest in monitoring an event like the arrival of new data (such as a new connection or message on the port). This is done through specific system functions, depending on the operating system (like `epoll_ctl` in Linux or `CreateIoCompletionPort` in Windows).

**Arabic**:  
ุงูุชุทุจูู ูู ุงูุจุฏุงูุฉ ูููู ุจุชุณุฌูู ุงูุชูุงูู ูู ูุชุงุจุนุฉ ุฃุญุฏุงุซ ูุนููุฉ ุชุฎุต ููุงุฑุฏ ูุนููุฉ. ุนูู ุณุจูู ุงููุซุงูุ ุฅุฐุง ูุงู ุงูุชุทุจูู ูุชุนุงูู ูุน ุดุจูุฉุ ูุฅูู ูุณุฌู ุงูุชูุงูู ุจูุชุงุจุนุฉ ุญุฏุซ ูุตูู ุจูุงูุงุช ุฌุฏูุฏุฉ (ูุซู ุงุชุตุงู ุฌุฏูุฏ ุฃู ุฑุณุงูุฉ ุฌุฏูุฏุฉ ุนูู ุงููููุฐ). ูุฐุง ูุชู ุนุจุฑ ุฏูุงู ุฎุงุตุฉ ูููุฏููุง ุงููุธุงูุ ูุชุฎุชูู ุญุณุจ ุงููุธุงู ุงููุณุชุฎุฏู (ูุซู `epoll_ctl` ูู Linux ุฃู `CreateIoCompletionPort` ูู Windows).

---

#### 2. **Managing Resources (ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ)**

**English**:  
The Event Notification System manages all the resources registered by the application. These resources may include:
- **Files**: Monitoring file operations like reading or writing.
- **Network Sockets**: Monitoring network events like new connections or data arrival.
- **Serial Ports**: Managing data flow via serial ports (e.g., COM port in Windows).
- **Other devices**: Peripheral devices or storage drives.

Each system manages a list of resources, and whenever thereโs a change or new operation, the system notifies the application.

**Arabic**:  
ุงูู **Event Notification System** ูููู ุจุฅุฏุงุฑุฉ ุฌููุน ุงูููุงุฑุฏ ุงูุชู ุชู ุชุณุฌูููุง. ูุฐู ุงูููุงุฑุฏ ูุฏ ุชููู:
- **ูููุงุช**: ูุซู ูุชุญ ูููุงุช ูููุฑุงุกุฉ ุฃู ุงููุชุงุจุฉ.
- **ููุงุจุณ ุงูุดุจูุฉ (Sockets)**: ูุซู ุงูุชุธุงุฑ ุจูุงูุงุช ูู ุงุชุตุงู TCP ุฃู UDP.
- **ููุงูุฐ ุชุณูุณููุฉ (Serial Ports)**: ูุซู ูุฑุงุกุฉ ุฃู ูุชุงุจุฉ ุงูุจูุงูุงุช ุนุจุฑ ูููุฐ COM ูู Windows.
- **ุฃุฌูุฒุฉ ุฃุฎุฑู**: ูููู ุฃู ุชููู ูุซู ุงูุฃุฌูุฒุฉ ุงูุทุฑููุฉ ุฃู ูุฎุงุฒู ุงูุจูุงูุงุช.

ูู ูุธุงู ุฅุดุนุงุฑ ูููู ุจุฅุฏุงุฑุฉ ูุงุฆูุฉ ูู ุงูููุงุฑุฏุ ูุนูุฏ ุญุฏูุซ ุฃู ุชุบููุฑ ุฃู ุนูููุฉ ุฌุฏูุฏุฉุ ูุชู ุฅุฎุทุงุฑ ุงููุธุงู ุจุฐูู.

---

#### 3. **Entering Wait State (ุงูุฏุฎูู ูู ุญุงูุฉ ุงูุชุธุงุฑ)**

**English**:  
After registering, the application enters a waiting state, pausing its operations until the event occurs. This waiting can be asynchronous, meaning the application can perform other tasks or "sleep" until it receives the notification.

**Arabic**:  
ุจุนุฏ ุชุณุฌูู ุงูุงูุชูุงูุ ูุฏุฎู ุงูุชุทุจูู ูู ุญุงูุฉ ุงูุชุธุงุฑ ุญุชู ูุชู ุฅุนูุงูู ุจุญุฏูุซ ุงูุชุบููุฑุงุช. ูุฐุง ุงูุงูุชุธุงุฑ ูุฏ ูููู "ุงูุชุธุงุฑูุง ุบูุฑ ูุชุฒุงูู" (Asynchronous Waiting)ุ ููุง ูุนูู ุฃู ุงูุชุทุจูู ููููู ุงูููุงู ุจููุงู ุฃุฎุฑู ุฃู ุงูููู ุญุชู ูุตูู ุงูุฅุดุนุงุฑ ุงูููุงุณุจ.

---

#### 4. **Receiving the Notification (ุงุณุชูุจุงู ุงูุฅุดุนุงุฑ)**

**English**:  
Once the event occurs (e.g., data arrives over the network or a file operation completes), the system sends a notification to the application. The application can then proceed to handle the event as needed.

**Arabic**:  
ุนูุฏูุง ูุญุฏุซ ุงูุญุฏุซ ุงููุทููุจ (ูุซู ูุตูู ุจูุงูุงุช ุนุจุฑ ุงูุดุจูุฉ ุฃู ุฅููุงุก ุงููุชุงุจุฉ ุฅูู ููู)ุ ูููู ุงููุธุงู ุจุฅุฎุทุงุฑ ุงูุชุทุจูู. ูุฐุง ุงูุฅุดุนุงุฑ ููุฑุณู ุฅูู ุงูุชุทุจูู ุนุจุฑ ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงูุฐู ุชู ุชููุฆุชู ูุณุจููุง.

---

#### 5. **Handling the Event (ูุนุงูุฌุฉ ุงูุญุฏุซ)**

**English**:  
After receiving the notification, the application processes the data or event. For example:
- Reading data from a serial port.
- Completing a file write operation.

**Arabic**:  
ุจุนุฏ ุชููู ุงูุฅุดุนุงุฑุ ูููู ุงูุชุทุจูู ุจูุนุงูุฌุฉ ุงูุจูุงูุงุช ุฃู ุงูุญุฏุซ. ุนูู ุณุจูู ุงููุซุงู:
- ูุฑุงุกุฉ ุงูุจูุงูุงุช ูู ุงููููุฐ ุงูุชุณูุณูู.
- ูุชุงุจุนุฉ ุฃู ุฅููุงุก ุนูููุฉ ูุชุงุจุฉ ุงูุจูุงูุงุช ุฅูู ููู.

---

### ๐ฏ **Types of Resources (ุงูุนูููุงุช ูุงูููุงุฑุฏ ุงูุชู ุชุชุนุงูู ูุนูุง ุฃูุธูุฉ ุฅุดุนุงุฑ ุงูุฃุญุฏุงุซ)**

#### 1. **Files (ุงููููุงุช)**:
   - **When is the notification triggered?**  
     When a file is opened, modified, or when data reading or writing operations complete. Systems like `epoll` efficiently monitor multiple files.

   **Arabic**:  
   - **ูุชู ูุญุฏุซ ุงูุฅุดุนุงุฑุ** ุนูุฏูุง ูุชู ูุชุญ ุฃู ุชุนุฏูู ูููุ ุฃู ุนูุฏ ุงูุงูุชูุงุก ูู ูุฑุงุกุฉ ุฃู ูุชุงุจุฉ ุงูุจูุงูุงุช. ุจุนุถ ุงูุฃูุธูุฉ ูุซู `epoll` ูููููุง ูุฑุงูุจุฉ ูููุงุช ูุชุนุฏุฏุฉ ุจููุงุกุฉ ุนุงููุฉ.

---

#### 2. **Network Sockets (ููุงุจุณ ุงูุดุจูุฉ)**:
   - **When is the notification triggered?**  
     When a new connection is received, data becomes available, or when a port is ready to send data.

   **Arabic**:  
   - **ูุชู ูุญุฏุซ ุงูุฅุดุนุงุฑุ** ุนูุฏ ุชููู ุงุชุตุงู ุฌุฏูุฏ ุฃู ุงุณุชูุจุงู ุจูุงูุงุช ุฌุฏูุฏุฉุ ุฃู ุนูุฏูุง ูุตุจุญ ุงููููุฐ ุฌุงูุฒูุง ูุฅุฑุณุงู ุงูุจูุงูุงุช.

---

#### 3. **Serial Ports (ุงูููุงูุฐ ุงูุชุณูุณููุฉ)**:
   - **When is the notification triggered?**  
     When data is received or sent over a serial port like COM in Windows.

   **Arabic**:  
   - **ูุชู ูุญุฏุซ ุงูุฅุดุนุงุฑุ** ุนูุฏูุง ูุชู ุงุณุชูุจุงู ุฃู ุฅุฑุณุงู ุจูุงูุงุช ุนุจุฑ ูููุฐ ุชุณูุณูู ูุซู COM ูู Windows.

---

#### 4. **Peripheral Devices (ุงูุฃุฌูุฒุฉ ุงูุทุฑููุฉ)**:
   - **When is the notification triggered?**  
     When a new device is connected (e.g., USB), or an I/O operation is completed.

   **Arabic**:  
   - **ูุชู ูุญุฏุซ ุงูุฅุดุนุงุฑุ** ุนูุฏ ุงุชุตุงู ุฌูุงุฒ ุฌุฏูุฏ ุจุงููุธุงู (ูุซู ุฌูุงุฒ USB) ุฃู ุงูุชูุงุก ุนูููุฉ ุฅุฏุฎุงู/ุฅุฎุฑุงุฌ.

---

### ๐ **Benefits (ููุงุฆุฏ ุงุณุชุฎุฏุงู ุฃูุธูุฉ ุฅุดุนุงุฑ ุงูุฃุญุฏุงุซ)**

**English**:  
- **Resource efficiency**: Applications are notified only when events happen, avoiding continuous polling.
- **Instant response**: Immediate notification upon event occurrence, enhancing responsiveness.
- **Handling large-scale resources**: These systems efficiently manage a large number of files, connections, and ports.

**Arabic**:  
- **ุงูููุงุกุฉ ูู ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ**: ูุชู ุฅุนูุงู ุงูุชุทุจููุงุช ููุท ุนูุฏ ุญุฏูุซ ุงูุฃุญุฏุงุซุ ููุง ูููุบู ุงูุญุงุฌุฉ ุฅูู ุงูุงุณุชุนูุงู ุงููุชูุฑุฑ.
- **ุงูุงุณุชุฌุงุจุฉ ุงูููุฑูุฉ**: ุงููุธุงู ูููุจู ุงูุชุทุจูู ููุฑ ุญุฏูุซ ุงูุญุฏุซ ุงููุทููุจุ ููุง ูุฒูุฏ ูู ุณุฑุนุฉ ุงูุงุณุชุฌุงุจุฉ.
- **ุงูุชุนุงูู ูุน ุนุฏุฏ ูุจูุฑ ูู ุงูููุงุฑุฏ**: ูุฐู ุงูุฃูุธูุฉ ูุตููุฉ ูุฅุฏุงุฑุฉ ุนุฏุฏ ูุจูุฑ ูู ุงููููุงุชุ ุงูุงุชุตุงูุงุชุ ูุงูููุงูุฐ ุจููุงุกุฉ ุนุงููุฉ.



ูุฐู ุงูุฃูุธูุฉ ุชุชุนูุจ ุงูู unblocking Sockets  ูุฏููุง ูุชุฎุทุฑูุง ุนูุฏูุง ุชููู ุฌุงูุฒุฉ ููุชุนุงูู ูุนูุง. ูุนุชุจุฑ ูุฐุง ุงููุธุงู ุงูุฅุดุนุงุฑู ูู ุงูุฃุณุงุณ ุงูุฐู ูููู ูู ุฎูุงูู ูู `asyncio` ุชุญููู ุงูุชุฒุงูู.

๐ **ูููุฐุฌ ุงูุชุฒุงูู ูู asyncio**:  
ูู ูููุฐุฌ ุงูุชุฒุงูู ูู `asyncio`ุ ูุฏููุง ููุท Thread ูุงุญุฏ ูููุฐ ุจุงูุซูู ูู ุฃู ููุช. ุนูุฏูุง ูููู ุจุนูููุฉ ุฅุฏุฎุงู ูุฅุฎุฑุงุฌุ ูููู ุจุชุณููููุง ุฅูู ูุธุงู ุงูุฅุดุนุงุฑ ุงูุฎุงุต ุจูุธุงู ุงูุชุดุบูู ุงูุฎุงุต ุจูุง ููููู ุจุชุนูุจูุง ููุง. ุจูุฌุฑุฏ ุฃู ูููู ุจุฐููุ ุชููู Thread ุจุงูุซูู ูุฏููุง ุญุฑุฉ ูู ุงูุงุณุชูุฑุงุฑ ูู ุชุดุบูู ููุฏ ุจุงูุซูู ุขุฎุฑ ุฃู ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูู unblocking Sockets  ููููู ูุธุงู ุงูุชุดุบูู ุจุชุนูุจูุง ููุง. ุนูุฏูุง ุชูุชูู ุนูููุฉ ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌุ "wake up," ุงููููุฉ ุงูุชู ูุงูุช ุชูุชุธุฑ ุงููุชูุฌุฉ ุซู ูุชุงุจุน ุชุดุบูู ุฃู ููุฏ ุจุงูุซูู ุขุฎุฑ ุฌุงุก ุจุนุฏ ุชูู ุงูุนูููุฉ.
๐ ูููููุง ุชุตูุฑ ูุฐุง ุงูุชุฏูู ูู ุงูุดูู ุงูููุงุจู ูุน ุนุฏุฏ ูู ุงูุนูููุงุช ุงููููุตูุฉ ุงูุชู ุชุนุชูุฏ ูู ูููุง ุนูู Socket.
![alt text](image-8.png)

---

### ๐ ููู ูุนูู ุงูุทูุจ unblocking 

ุฅู ุฅุฌุฑุงุก ุทูุจ ุฅุฏุฎุงู ูุฅุฎุฑุงุฌ  (**non-blocking I/O**) ูุนูุฏ ุงููุชูุฌุฉ ุนูู ุงูููุฑ ููุทูุจ ูู ูุธุงู ุงูุชุดุบูู ูุฑุงูุจุฉ **ุงููุขุฎุฐ (sockets)** ููุญุตูู ุนูู ุงูุจูุงูุงุช. 

### ๐โโ๏ธ ุชูููุฐ ุงูุดูุฑุฉ ุงูููุฏ ุงูุงุฎุฑ
ูุฐุง ูุณูุญ ุจุฏุงูุฉ **execute_other_code()** ุฃู ุชุนูู ุนูู ุงูููุฑ ุจุฏูุงู ูู ุงูุงูุชุธุงุฑ ุญุชู ุชูุชูู ุทูุจุงุช ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ. 

### โณ ุงูุชูุจูู ุนูุฏ ุงูุงูุชูุงู
ูู ููุช ูุงุญูุ ูููููุง ุฃู ูุชููู ุชูุจูููุง ุนูุฏ ุงูุชูุงู ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ ููุนุงูุฌุฉ ุงูุงุณุชุฌุงุจุฉ.

### โ ุชุชุจุน ุงูููุงู
ูููู ููู ูุชุชุจุน ุงูููุงู ุงูุชู ุชูุชุธุฑ ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ ููุงุฑูุฉ ุจุชูู ุงูุชู ูููู ุฃู ุชุนูู ุจุดูู ุทุจูุนู ูุฃููุง ุนุจุงุฑุฉ ุนู ุดูุฑุฉ ุจุงูุซูู ุนุงุฏูุฉุ ุงูุฌูุงุจ ูููู ูู ุจููุฉ ุชูุฏุนู **ุญููุฉ ุงูุฃุญุฏุงุซ (event loop)**.

---

### ๐ ููู ุชุนูู ุญููุฉ ุงูุฃุญุฏุงุซ

ุญููุฉ ุงูุฃุญุฏุงุซ ูู ููุจ ูู ุชุทุจูู ูุณุชุฎุฏู **asyncio**. ุชุนุชุจุฑ ุญููุงุช ุงูุฃุญุฏุงุซ ููุท ุชุตููู ุดุงุฆุน ูู ุงูุนุฏูุฏ ูู ุงูุฃูุธูุฉ ููุฏ ููุฌุฏุช ููุชุฑุฉ ุทูููุฉ. ุฅุฐุง ููุช ูุฏ ุงุณุชุฎุฏูุช **JavaScript** ูู ูุชุตูุญ ูุฅุฌุฑุงุก ุทูุจ ููุจ ุบูุฑ ูุชุฒุงููุ ููุฏ ุฃูุดุฃุช ูููุฉ ุนูู ุญููุฉ ุฃุญุฏุงุซ.

### ๐จ ุชุทุจููุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู

ุชุณุชุฎุฏู ุชุทุจููุงุช **Windows GUI** ูุง ููุณูู ุจุญููุงุช ุงูุฑุณุงุฆู ุฎูู ุงูููุงููุณ ูุขููุฉ ุฃุณุงุณูุฉ ููุชุนุงูู ูุน ุงูุฃุญุฏุงุซ ูุซู ุฅุฏุฎุงู ููุญุฉ ุงูููุงุชูุญุ ูุน ุงูุณูุงุญ ุฃูุถูุง ุจุธููุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู.

### ๐ ุงูุญููุฉ ุงูุฃุณุงุณูุฉ

ุงูุญููุฉ ุงูุฃุณุงุณูุฉ ุจุณูุทุฉ ุฌุฏูุง. ูููู ุจุฅูุดุงุก ูุงุฆูุฉ ุงูุชุธุงุฑ ุชุญุชูู ุนูู ูุงุฆูุฉ ูู ุงูุฃุญุฏุงุซ ุฃู ุงูุฑุณุงุฆู. ุซู ููุฑุฑ ุฅูู ุงูุฃุจุฏุ ูุน ูุนุงูุฌุฉ ุงูุฑุณุงุฆู ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู ููุง ุชุฃุชู ุฅูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ. ูู ุจุงูุซููุ ูุฏ ุชุจุฏู ุญููุฉ ุงูุฃุญุฏุงุซ ุงูุฃุณุงุณูุฉ ููุง ููู:

```python
from collections import deque

messages = deque()
while True:
    if messages:
        message = messages.pop()
        process_message(message)
```

### ๐๏ธ ุญููุฉ ุงูุฃุญุฏุงุซ ูู asyncio

ูููู ุงุณุชุฎุฏุงู ูุตุทูุญุงุช ุฃูุซุฑ ุฏูุฉ ูุดุฑุญ ุงูููููู. ุฅููู ูุต ูุนุฏู:

---

ูู **asyncio**ุ ุชุญุชูุธ ุญููุฉ ุงูุฃุญุฏุงุซ ุจูุงุฆูุฉ ูู ุงูููุงู ุจุฏูุงู ูู ุงูุฑุณุงุฆู. ุงูููุงู ูู ูุญุฏุงุช ุชูููุฐูุฉ ุชุชุนูู ุจู **coroutine**. ูููู ุฃู ุชุชููู **coroutine** ุนู ุงูุชูููุฐ ุนูุฏูุง ุชุตู ุฅูู ุนูููุฉ ูุฑุชุจุทุฉ ุจุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌุ ููุง ูุณูุญ ูุญููุฉ ุงูุฃุญุฏุงุซ ุจุชุดุบูู ููุงู ุฃุฎุฑู ูุง ุชูุชุธุฑ ุฅููุงู ุนูููุงุช ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ.



### ๐ ุฅูุดุงุก ุญููุฉ ุงูุฃุญุฏุงุซ

ุนูุฏ ุฅูุดุงุก ุญููุฉ ุงูุฃุญุฏุงุซุ ูููู ุจุฅูุดุงุก ูุงุฆูุฉ ุงูุชุธุงุฑ ูุงุฑุบุฉ ูู ุงูููุงู. ูููููุง ุจุนุฏ ุฐูู ุฅุถุงูุฉ ุงูููุงู ุฅูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ููุชู ุชุดุบูููุง. ูู ุชูุฑุงุฑ ูู ุญููุฉ ุงูุฃุญุฏุงุซ ูุชุญูู ูู ุงูููุงู ุงูุชู ุชุญุชุงุฌ ุฅูู ุงูุชูููุฐ ูุณูููู ุจุชุดุบูููุง ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู ุญุชู ุชุตู ุงููููุฉ ุฅูู ุนูููุฉ ุฅุฏุฎุงู ูุฅุฎุฑุงุฌ. ูู ุฐูู ุงูููุชุ ุณุชูููู ุงููููุฉุ ูุณูุทูุจ ูู ูุธุงู ุงูุชุดุบูู ูุฑุงูุจุฉ ุฃู ูุขุฎุฐ ูุฅููุงู ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ. ุซู ูุจุญุซ ุนู ุงููููุฉ ุงูุชุงููุฉ ุงูุชู ุณูุชู ุชุดุบูููุง.

### ๐ ูุฑุงูุจุฉ ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ

ูู ูู ุชูุฑุงุฑ ูู ุญููุฉ ุงูุฃุญุฏุงุซุ ุณูุชุญูู ููุง ุฅุฐุง ูุงูุช ุฃู ูู ุนูููุงุช ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ ูุฏ ุงูุชููุชุ ุฅุฐุง ุงูุชููุชุ ุณูููู ุจู "ุฅููุงุธ" ุฃู ููุงู ูุงูุช ูุชูููุฉ ููุนุทููุง ุงููุฑุตุฉ ูุฅููุงุก ุงูุชูููุฐ.

### ๐ ุงูุชุตูุฑ

ูููููุง ุชุตูุฑ ุฐูู ููุง ูู ููุถุญ ูู ุงูุดูู ุงูููุงุจู: ุงูุฎูุท ุงูุฑุฆูุณู ูุฑุณู ุงูููุงู ุฅูู ุญููุฉ ุงูุฃุญุฏุงุซุ ุงูุชู ูููููุง ุจุนุฏ ุฐูู ุชุดุบูููุง.

![alt text](image-9.png)


### ุงูุดูู ุงูุณุงุจู: ูุซุงู ุนู ููููุฉ ุฅุฑุณุงู ุงูููุงู ุฅูู ุญููุฉ ุงูุฃุญุฏุงุซ

ูุชูุถูุญ ููููุฉ ุนูู **asyncio**ุ ุฏุนูุง ูุชุฎูู ุฃู ูุฏููุง ุซูุงุซ ููุงู ุชููู ูู ูููุง ุจุนูู ุทูุจ ููุจ ุบูุฑ ูุชุฒุงูู. ุชุชููู ูุฐู ุงูููุงู ูู ุฎุทูุงุช ูุงูุชุงูู:

1. **ุฅุนุฏุงุฏุงุช ูุฑุชุจุทุฉ ุจุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ (CPU-bound)**: ุฌุฒุก ูู ุงูุดููุฑุฉ ูููู ุจุนูููุงุช ูุนุงูุฌุฉ ุซูููุฉ.
2. **ุทูุจ ููุจ ุบูุฑ ูุชุฒุงูู**: ูููู ุจุฅุฌุฑุงุก ุทูุจ ุจูุงูุงุช ูู ุงูุดุจูุฉ.
3. **ูุนุงูุฌุฉ ูุง ุจุนุฏ ุงูุทูุจ (CPU-bound)**: ุฌุฒุก ุขุฎุฑ ูู ุงูุดููุฑุฉ ูุนุงูุฌ ุงูุจูุงูุงุช ุงููุณุชููุฉ.

### ููุฏ ุงูุชุฎูููุฉ

ูููููุง ูุชุงุจุฉ ุงูุดููุฑุฉ ุงูุชุฎูููุฉ ุจุงูุทุฑููุฉ ุงูุชุงููุฉ:

```python
def make_request():
    cpu_bound_setup()  # ุฅุนุฏุงุฏุงุช CPU-bound
    io_bound_web_request()  # ุทูุจ ููุจ ุบูุฑ ูุชุฒุงูู
    cpu_bound_postprocess()  # ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุงููุณุชููุฉ

task_one = make_request()
task_two = make_request()
task_three = make_request()
```

### ุณูุฑ ุงูุนูู

1. **ุจุฏุก ุงูููุงู**: 
   - ุฌููุน ุงูููุงู ุงูุซูุงุซุฉ ุชุจุฏุฃ ูู ุงูุนูู ุนูู ุงูุฅุนุฏุงุฏุงุช ุงููุฑุชุจุทุฉ ุจุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ. 
   - ูุธุฑูุง ูุฃููุง ูุนูู ูู ูุถุน ุฃุญุงุฏู thread ูุฅู ุงููููุฉ ุงูุฃููู ููุท ูู ุงูุชู ุชุจุฏุฃ ูู ุชูููุฐ code ุจูููุง ุชูุชุฑู ุงูููุงู ุงูุฃุฎุฑู ูู ุงูุชุธุงุฑ ุงูุชุดุบูู.

2. **ุงูุชููู ูู ุงูุชุธุงุฑ ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ**: 
   - ุจุนุฏ ุงูุงูุชูุงุก ูู ุฅุนุฏุงุฏุงุช ุงููุนุงูุฌุฉุ ุชุตู ุงููููุฉ 1 ุฅูู ุนูููุฉ ุฅุฏุฎุงู ูุฅุฎุฑุงุฌ. 
   - ุชุชููู ุงููููุฉ 1 ูุชุฎุจุฑ ุงููุธุงู: "ุฃูุง ูู ุงูุชุธุงุฑ ุฅุฏุฎุงู ูุฅุฎุฑุงุฌุ ูููู ูุฃู ููุงู ุฃุฎุฑู ุฃู ุชุนูู ุงูุขู."

### ุงูุงูุชุธุงุฑ ุงููุชุฒุงูู

- ุนูุฏูุง ุชุชููู ุงููููุฉ 1ุ ูููู ูููููุฉ 2 ุฃู ุชุจุฏุฃ ูู ุงูุชูููุฐ.
- ุชุจุฏุฃ ุงููููุฉ 2 ูู ุงูุนูู ุนูู ุฅุนุฏุงุฏุงุชูุงุ ุซู ุชุชููู ูู ุงูุชุธุงุฑ ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ.
- ูู ูุฐู ุงููุฑุญูุฉุ ูู ูู ุงููููุฉ 1 ูุงููููุฉ 2 ุชูุชุธุฑุงู ุจุดูู ูุชุฒุงูู ูุฅููุงู ุทูุจุงุชููุง.

### ุจุฏุก ูููุฉ ุฌุฏูุฏุฉ

- ุจูุง ุฃู ุงูููุงู 1 ู2 ูู ูุถุน ุงูุชูููุ ูููููุง ุงูุขู ุชุดุบูู ุงููููุฉ 3.
- ุชุณุชูุฑ ุงููููุฉ 3 ุญุชู ุชุตู ุฅูู ูุฑุญูุฉ ุฅุฏุฎุงู ูุฅุฎุฑุงุฌุ ุซู ุชุชููู ุฃูุถูุง.

### ุงุณุชุฆูุงู ุงูุชูููุฐ

- ุจูุฌุฑุฏ ุฃู ุชูุชูู ุงููููุฉ 1 ูู ุงูุชุธุงุฑ ุฅุฏุฎุงููุง ูุฅุฎุฑุงุฌูุงุ ูููุจูููุง ูุธุงู ุงูุชุดุบูู ุฃู ุงูุนูููุฉ ูุฏ ุงูุชููุช.
- ูููููุง ุงูุขู ุงุณุชุฆูุงู ุชูููุฐ ุงููููุฉ 1 ุจูููุง ุชุณุชูุฑ ุงูููุงู 2 ู3 ูู ุงูุงูุชุธุงุฑ.

### ุงูุดูู ุงูููุงุจู
![alt text](image-10.png)
-  ูููููุง ุฑุคูุฉ ุชุฏูู ุชูููุฐ code
- ูุธูุฑ ุฃู ููุงู ุฏุงุฆููุง ุนูู ูุงุญุฏ ููุท ูุฑุชุจุท ุจุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ููุฏ ุงูุชุดุบููุ ุจูููุง ูููู ุฃู ูููู ููุงู ุนูููุชุงู ูุฑุชุจุทุชุงู ุจุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ ุชุนููุงู ูู ููุณ ุงูููุช.
- ูุฐู ุงููุฏุฑุฉ ุนูู ุงูุงูุชุธุงุฑ ุงููุชุฒุงูู ูู ุงูุณุจุจ ูุฑุงุก ุชุญููู **asyncio** ููููุฑุงุช ูุจูุฑุฉ ูู ุงูููุช.

---
# 2. asyncio Basics

## This chapter covers:

- The basics of `async`/`await` syntax and coroutines
- Running coroutines concurrently with tasks
- Canceling tasks
- Manually creating the event loop
- Measuring a coroutineโs execution time
- Keeping eyes open for problems when running coroutines
Chapter 1 dived into concurrency, looking at how we can achieve it with both processes and threads. We also explored how we could utilize non-blocking I/O and an event loop to achieve concurrency with only one thread. In this chapter, weโll cover the basics of how to write programs using this single-threaded concurrency model with asyncio. Using the techniques in this chapter, youโll be able to take long-running operations, such as web requests, database queries, and network connections and execute them in tandem. Weโll learn more about the coroutine construct and how to use async await syntax to define and run coroutines. Weโll also examine how to run coroutines concurrently by using tasks and examine the time savings we get from running concurrently by creating a reusable timer. Finally, weโll look at common errors software engineers may make when using asyncio and how to use debug mode to spot these problems.

***

ุบุทู ุงููุตู ุงูุฃูู ููููู  (concurrency)ุ ูุงุณุชุนุฑุถ ููููุฉ ุชุญูููู ุจุงุณุชุฎุฏุงู ูู ูู  (processes) ู (threads). ููุง ุงุณุชูุดููุง ููููุฉ ุงูุงุณุชูุงุฏุฉ ูู ุฅุฏุฎุงู/ุฅุฎุฑุงุฌ ุบูุฑ ุญุงุฌุฒ (non-blocking I/O) ูุญููุฉ ุงูุฃุญุฏุงุซ (event loop) ูุชุญููู ุงูุชุฒุงูู ุจุงุณุชุฎุฏุงู thread  ูุงุญุฏ ููุท. ูู ูุฐุง ุงููุตูุ ุณูุบุทู ุงูุฃุณุงุณูุงุช ููุชุงุจุฉ ุงูุจุฑุงูุฌ ุจุงุณุชุฎุฏุงู single-threaded concurrency model  ุจุงุณุชุฎุฏุงู asyncio. ุจุงุณุชุฎุฏุงู ุงูุชูููุงุช ูู ูุฐุง ุงููุตูุ ุณุชููู ูุงุฏุฑูุง ุนูู ุชูููุฐ ุงูุนูููุงุช ุงูุทูููุฉ ูุซู ุทูุจุงุช ุงูููุจ (web requests)ุ ุงุณุชุนูุงูุงุช ููุงุนุฏ ุงูุจูุงูุงุช (database queries)ุ ู (network connections) ุจุดูู ูุชุฒุงูู.

ุณูุชุนูู ุงููุฒูุฏ ุญูู **ุจูุงุก ุงูููุฑูุชูู** (coroutine construct) ูููููุฉ ุงุณุชุฎุฏุงู **ุตูุบุฉ async/await** (async await syntax) ูุชุนุฑูู ูุชุดุบูู ุงูููุฑูุชููุงุช. ุณูุชูุงูู ุฃูุถูุง ููููุฉ ุชุดุบูู ุงูููุฑูุชููุงุช ุจุดูู ูุชุฒุงูู ุจุงุณุชุฎุฏุงู **ุงูููุงู** (tasks) ููุณุชุนุฑุถ ุงูููุช ุงูุฐู ูููุฑู ูู ุงูุชุดุบูู ุงููุชุฒุงูู ูู ุฎูุงู ุฅูุดุงุก ** reusable timer ** (reusable timer). ูุฃุฎูุฑูุงุ ุณูููู ูุธุฑุฉ ุนูู ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ ุงูุชู ูุฏ ูุฑุชูุจูุง ูููุฏุณู ุงูุจุฑูุฌูุงุช ุนูุฏ ุงุณุชุฎุฏุงู **asyncio** ูููููุฉ ุงุณุชุฎุฏุงู **ูุถุน ุงูุชุตุญูุญ** (debug mode) ูุงูุชุดุงู ูุฐู ุงููุดููุงุช.

## ููุฏูุฉ ูู **ุงูููุฑูุชููุงุช** (coroutines)  
ููุฑ ูู ุงูููุฑูุชูู ููุฃูู **ุฏุงูุฉ ุจุงูุซูู** (Python function) ุนุงุฏูุฉ ูููู ุจููุฒุฉ ุฅุถุงููุฉ ุชุชูุญ ูู ุฅููุงู ุชูููุฐู ูุคูุชูุง ุนูุฏ ููุงุฌูุฉ ุนูููุฉ ูุฏ ุชุณุชุบุฑู ุจุนุถ ุงูููุช ูุฅููุงููุง. ุนูุฏ ุงูุชูุงู ุชูู ุงูุนูููุฉ ุงูุทูููุฉุ ูููููุง "ุฅููุงุธ" (wake up) ุงูููุฑูุชูู ุงูุฐู ุชู ุฅููุงูู ูุคูุชูุง ูุงุณุชููุงู ุชูููุฐ ุฃู ููุฏ ุขุฎุฑ ูู ููุณ ุงูููุฑูุชูู. ุฃุซูุงุก ุงูุชุธุงุฑ ุงูููุฑูุชูู ุงููุชููู ุงูุชูุงู ุงูุนูููุฉ ุงูุชู ุฃููู ูู ุฃุฌููุงุ ูููููุง ุชุดุบูู ููุฏ ุขุฎุฑ. ูุฐุง ุงูุชุดุบูู ููููุฏ ุฃุซูุงุก ุงูุงูุชุธุงุฑ ูู ูุง ูููุญ ุงูุชุทุจูู ุงูุฎุงุต ุจูุง **ุงูุชุฒุงูู** (concurrency). ูููููุง ุฃูุถูุง ุชุดุบูู ุนุฏุฉ ุนูููุงุช ุชุณุชุบุฑู ููุชูุง ุทูููุงู ุจุดูู ูุชุฒุงููุ ููุง ูููุญ ุชุทุจููุงุชูุง ุชุญุณููุงุช ูุจูุฑุฉ ูู ุงูุฃุฏุงุก.  

ูุฅูุดุงุก ูุฅููุงู ุงูููุฑูุชูู ูุคูุชูุงุ ุณูุญุชุงุฌ ุฅูู ุชุนูู ุงุณุชุฎุฏุงู **ุงููููุชูู ุงูููุชุงุญูุชูู async ู await**. ุงููููุฉ ุงูููุชุงุญูุฉ **async** ุณุชุชูุญ ููุง ุชุนุฑูู ููุฑูุชููุ ุจูููุง ุณุชุชูุญ ููุง ุงููููุฉ ุงูููุชุงุญูุฉ **await** ุฅููุงู ุงูููุฑูุชูู ูุคูุชูุง ุนูุฏ ูุฌูุฏ ุนูููุฉ ุชุณุชุบุฑู ููุชูุง ุทูููุงู.


Which Python version should I use?  
The code in this book assumes you are using the latest version of Python at the time of writing, which is Python 3.10. Running code with versions earlier than this may have certain API methods missing, may function differently, or may have bugs.

***

> **ููุงุญุธุฉ:**
> 
> ููุชุฑุถ ุงูููุฏ ูู ูุฐุง ุงููุชุงุจ ุฃูู ุชุณุชุฎุฏู **ุฃุญุฏุซ ุฅุตุฏุงุฑ ูู ุจุงูุซูู** (Python)ุ ููู ุงูุฅุตุฏุงุฑ **3.10** ููุช ูุชุงุจุฉ ูุฐุง ุงููุต. ุชุดุบูู ุงูููุฏ ุจุฅุตุฏุงุฑุงุช ุฃูุฏู ูุฏ ูุคุฏู ุฅูู ููุต ุจุนุถ **ุฃุณุงููุจ API** (API methods)ุ ุฃู ุฃู ูุนูู ุจุดูู ูุฎุชููุ ุฃู ูุญุชูู ุนูู **ุฃุฎุทุงุก** (bugs).

### **ุฅูุดุงุก ุงูููุฑูุชููุงุช ุจุงุณุชุฎุฏุงู ุงููููุฉ ุงูููุชุงุญูุฉ async**  
ุฅูุดุงุก ุงูููุฑูุชูู ุฃูุฑ ุจุณูุท ููุง ูุฎุชูู ูุซูุฑูุง ุนู ุฅูุดุงุก **ุฏุงูุฉ ุจุงูุซูู** (Python function) ุนุงุฏูุฉ. ุงูุงุฎุชูุงู ุงููุญูุฏ ูู ุฃูู ุจุฏูุงู ูู ุงุณุชุฎุฏุงู ุงููููุฉ ุงูููุชุงุญูุฉ `def`ุ ูุณุชุฎุฏู `async def`. ุชูุณุชุฎุฏู ุงููููุฉ ุงูููุชุงุญูุฉ **async** ูุชูููุฒ ุงูุฏุงูุฉ ูููุฑูุชูู ุจุฏูุงู ูู ุฏุงูุฉ ุจุงูุซูู ุนุงุฏูุฉ.

**ุงููุงุฆูุฉ 2.1 ุงุณุชุฎุฏุงู ุงููููุฉ ุงูููุชุงุญูุฉ async**  
```python
async def my_coroutine() -> None:
    print('Hello world!')
```

ุงูููุฑูุชูู ูู ุงููุงุฆูุฉ ุงูุณุงุจูุฉ ูุง ูููู ุจุฃู ุดูุก ุญุชู ุงูุขู ุจุฎูุงู ุทุจุงุนุฉ "Hello world!" ููู ุงูุฌุฏูุฑ ุจุงูุฐูุฑ ุฃู ูุฐุง ุงูููุฑูุชูู ูุง ูุคุฏู ุฃู ุนูููุงุช ุทูููุฉ ุงูุฃูุฏุ ุจู ูุทุจุน ุฑุณุงูุชูุง ููุนูุฏ. ูุฐุง ูุนูู ุฃูู ุนูุฏูุง ูุถุน ุงูููุฑูุชูู ุนูู **ุญููุฉ ุงูุฃุญุฏุงุซ** (event loop)ุ ูุฅูู ุณูููุฐ ุนูู ุงูููุฑ ูุฃูู ูุง ููุฌุฏ ูุฏููุง ุฃู ุฅุฏุฎุงู/ุฅุฎุฑุงุฌ ุญุงุฌุฒ (blocking I/O)ุ ููุง ุดูุก ูููู ุงูุชูููุฐ ุญุชู ุงูุขู.  

**ูุฐู ุงูุตูุบุฉ ุจุณูุทุฉุ ูููููุง ูุฎูู ุดูุฆูุง ูุฎุชูููุง ุชูุงููุง ุนู ุฏุงูุฉ ุจุงูุซูู ุงูุนุงุฏูุฉ.** ูุชูุถูุญ ุฐููุ ุฏุนูุง ููุดุฆ ุฏุงูุฉ ุชุถูู ูุงุญุฏูุง ุฅูู ุนุฏุฏ ุตุญูุญ ุจุงูุฅุถุงูุฉ ุฅูู ููุฑูุชูู ูููู ุจููุณ ุงูุดูุกุ ูููุงุฑู ูุชุงุฆุฌ ุงุณุชุฏุนุงุก ูู ููููุง. ุณูุณุชุฎุฏู ุฃูุถูุง ูุธููุฉ **ุงูููุน** (type convenience function) ูููุธุฑ ูู ุงูููุน ุงูุฐู ูุชู ุฅุฑุฌุงุนู ุนูุฏ ุงุณุชุฏุนุงุก ููุฑูุชูู ููุงุฑูุฉู ุจุงุณุชุฏุนุงุก ุฏุงูุชูุง ุงูุนุงุฏูุฉ.

ูุงุญุธ ุฃูู ุนูุฏ ุงุณุชุฏุนุงุก ุฏุงูุฉ `add_one` ุงูุนุงุฏูุฉุ ูุชู ุชูููุฐูุง ุนูู ุงูููุฑ ูุชุนูุฏ ูุง ูุชููุนูุ ููู ุนุฏุฏ ุตุญูุญ ุขุฎุฑ. ููุน ุฐููุ ุนูุฏูุง ูุณุชุฏุนู `coroutine_add_one`ุ ูุง ูุญุตู ุนูู ุชูููุฐ ุงูููุฏ ุฏุงุฎู ุงูููุฑูุชูู. ุจุฏูุงู ูู ุฐููุ ูุญุตู ุนูู **ูุงุฆู ููุฑูุชูู** (coroutine object).  

ูุฐู ููุทุฉ ูููุฉุ ุญูุซ ุฃู ุงูููุฑูุชููุงุช ูุง ุชูููุฐ ุนูุฏ ุงุณุชุฏุนุงุฆูุง ูุจุงุดุฑุฉ. ุจุฏูุงู ูู ุฐููุ ูููู ุจุฅูุดุงุก ูุงุฆู ููุฑูุชูู ูููู ุชุดุบููู ูุงุญููุง. ูุชุดุบูู ุงูููุฑูุชููุ ูุญุชุงุฌ ุฅูู ุชุดุบููู ุจุดูู ุตุฑูุญ ุนูู **ุญููุฉ ุงูุฃุญุฏุงุซ**. ูููู ูููููุง ุฅูุดุงุก ุญููุฉ ุฃุญุฏุงุซ ูุชุดุบูู ุงูููุฑูุชููุ  

ูู ุฅุตุฏุงุฑุงุช ุจุงูุซูู ุงูุฃูุฏู ูู 3.7ุ ูุงู ุนูููุง ุฅูุดุงุก ุญููุฉ ุฃุญุฏุงุซ ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ ุจุงููุนู. ููุน ุฐููุ ุฃุถุงูุช ููุชุจุฉ **asyncio** ุงูุนุฏูุฏ ูู ุงููุธุงุฆู ุงูุชู ุชููู ุจุฅุฏุงุฑุฉ ุญููุฉ ุงูุฃุญุฏุงุซ. ููุงู ุฏุงูุฉ ููุงุฆูุฉุ `asyncio.run`ุ ูููููุง ุงุณุชุฎุฏุงููุง ูุชุดุบูู ุงูููุฑูุชูู. ูุชู ุชูุถูุญ ุฐูู ูู ุงููุงุฆูุฉ ุงูุชุงููุฉ.
**ุงููุงุฆูุฉ 2.3 ุชุดุบูู ููุฑูุชูู**  
```python
import asyncio

async def coroutine_add_one(number: int) -> int:
    return number + 1

result = asyncio.run(coroutine_add_one(1))
print(result)
```
ุณูุคุฏู ุชุดุบูู ุงููุงุฆูุฉ 2.3 ุฅูู ุทุจุงุนุฉ "2"ุ ููุง ููุง ูุชููุน ูุฅุฑุฌุงุน ุงูุนุฏุฏ ุงูุชุงูู. ููุฏ ูุถุนูุง ุงูููุฑูุชูู ุจุดูู ุตุญูุญ ุนูู **ุญููุฉ ุงูุฃุญุฏุงุซ**ุ ููุฏ ูููุง ุจุชูููุฐู!  

ุชููู `asyncio.run` ุจุนุฏุฉ ุฃุดูุงุก ูููุฉ ูู ูุฐุง ุงูุณููุงุฑูู. ุฃููุงูุ ุชููู ุจุฅูุดุงุก **ุญููุฉ ุฃุญุฏุงุซ** ุฌุฏูุฏุฉ. ุจูุฌุฑุฏ ุฃู ุชูุฌุญ ูู ุฐููุ ุชุฃุฎุฐ ุฃู ููุฑูุชูู ููุฑุฑู ุฅูููุง ูุชุดุบูู ุญุชู ููุชููุ ูุน ุฅุฑุฌุงุน ุงููุชูุฌุฉ. ุณุชููู ูุฐู ุงููุธููุฉ ุฃูุถูุง ุจุชูุธูู ุฃู ุดูุก ูุฏ ูุจูู ููุฏ ุงูุชุดุบูู ุจุนุฏ ุงูุชูุงุก ุงูููุฑูุชูู ุงูุฑุฆูุณู. ุจูุฌุฑุฏ ุงูุชูุงุก ูู ุดูุกุ ุชููู ุจุฅุบูุงู ุญููุฉ ุงูุฃุญุฏุงุซ.  

ุฑุจูุง ุชููู ุงูููุทุฉ ุงูุฃูุซุฑ ุฃูููุฉ ุญูู `asyncio.run` ูู ุฃููุง ุชูุฏู ุฅูู ุฃู ุชููู ุงูููุทุฉ ุงูุฑุฆูุณูุฉ ููุฏุฎูู ุฅูู ุชุทุจูู **asyncio** ุงูุฐู ุฃูุดุฃูุงู. ุชููู ุจุชุดุบูู ููุฑูุชูู ูุงุญุฏ ููุทุ ููุฌุจ ุฃู ุชุทูู ูุฐุง ุงูููุฑูุชูู ุฌููุน ุฌูุงูุจ ุชุทุจูููุง ุงูุฃุฎุฑู. ูุน ุชูุฏููุงุ ุณูุณุชุฎุฏู ูุฐู ุงููุธููุฉ ูููุทุฉ ุฏุฎูู ุฅูู ูุนุธู ุชุทุจููุงุชูุง. ุงูููุฑูุชูู ุงูุฐู ุชููู `asyncio.run` ุจุชูููุฐู ุณูููู ุจุฅูุดุงุก ูุชุดุบูู ููุฑูุชููุงุช ุฃุฎุฑู ุชุชูุญ ููุง ุงูุงุณุชูุงุฏุฉ ูู ุงูุทุจูุนุฉ ุงููุชุฒุงููุฉ ูู **asyncio**.

### Pausing Execution with the `await` Keyword

ุงููุซุงู ุงูุฐู ุฑุฃููุงู ูู ุงููุงุฆูุฉ 2.3 ูู ููู ุจุญุงุฌุฉ ุฅูู ุฃู ูููู Coroutineุ ุญูุซ ุฃูู ููุฐ ููุท ููุฏ ุจุงูุซูู only non-blocking. ุงููุงุฆุฏุฉ ุงูุญููููุฉ ูู `asyncio` ูู ุงููุฏุฑุฉ ุนูู ุฅููุงู ุงูุชูููุฐ ููุณูุงุญ ูุญููุฉ ุงูุฃุญุฏุงุซ (event loop) ุจุชุดุบูู ููุงู ุฃุฎุฑู ุฎูุงู ุนูููุฉ ุทูููุฉ ุงูุฃูุฏ. ูุฅููุงู ุงูุชูููุฐุ ูุณุชุฎุฏู ุงููููุฉ ุงูููุชุงุญูุฉ `await`.

ุนุงุฏุฉ ูุง ุชุชุจุน ุงููููุฉ ุงูููุชุงุญูุฉ `await` ุงุณุชุฏุนุงุกู ูู Coroutine (ุจุดูู ุฃูุซุฑ ุชุญุฏูุฏูุงุ ูุงุฆู ููุนุฑู ุจุงุณู Awaitableุ ูุงูุฐู ููุณ ุฏุงุฆููุง Coroutineุ ุณูุชุนุฑู ุฃูุซุฑ ุนูู Awaitables ูุงุญููุง ูู ุงููุตู). 

ุงุณุชุฎุฏุงู ุงููููุฉ ุงูููุชุงุญูุฉ `await` ุณูุชุณุจุจ ูู ุชุดุบูู ุงูู Coroutine ุงูุชู ุชูููุงุ ุนูู ุนูุณ ุงุณุชุฏุนุงุก Coroutine ูุจุงุดุฑุฉุ ูุงูุฐู ููุชุฌ ุนูู ูุงุฆู Coroutine. ุณุชููู ุชุนุจูุฑ `await` ุฃูุถูุง ุจุฅููุงู ุงูู Coroutine ุญูุซูุง ุชู ุงุญุชูุงุคูุง ุญุชู ุชูุชูู ุงูู Coroutine ุงูุชู ุงูุชุธุฑูุงูุง ูุชุฑุฌุน ูุชูุฌุฉ. ุนูุฏูุง ุชูุชูู ุงูู Coroutine ุงูุชู ุงูุชุธุฑูุงูุงุ ุณูุญุตู ุนูู ุฅููุงููุฉ ุงููุตูู ุฅูู ุงููุชูุฌุฉ ุงูุชู ุฃุฑุฌุนุชูุงุ ูุณุชููู ุงูู Coroutine ุงููุญุชููุฉ ุจู "ุฅููุงุธ" ูุชุชุนุงูู ูุน ุงููุชูุฌุฉ.

ูููููุง ุงุณุชุฎุฏุงู ุงููููุฉ ุงูููุชุงุญูุฉ `await` ุจูุถุนูุง ุฃูุงู ุงุณุชุฏุนุงุก ูู Coroutine. ูู ุฎูุงู ุชูุณูุน ุจุฑูุงูุฌูุง ุงูุณุงุจูุ ูููููุง ูุชุงุจุฉ ุจุฑูุงูุฌ ุญูุซ ูุณุชุฏุนู ุฏุงูุฉ `add_one` ุฏุงุฎู ุฏุงูุฉ "main" ุบูุฑ ูุชุฒุงููุฉ (async function) ููุญุตู ุนูู ุงููุชูุฌุฉ.

### Listing 2.4 Using `await` to Wait for the Result of Coroutine

```python
import asyncio

async def add_one(number: int) -> int:
    return number + 1

async def main() -> None:
    one_plus_one = await add_one(1) โถ
    two_plus_one = await add_one(2) โท
    print(one_plus_one)
    print(two_plus_one)

asyncio.run(main())
```

โถ Pause, and wait for the result of `add_one(1)`.  
โท Pause, and wait for the result of `add_one(2)`.

ูู ุงููุงุฆูุฉ 2.4ุ ูููู ุจุฅููุงู ุงูุชูููุฐ ูุฑุชูู. ุฃููุงู ููุชุธุฑ ุงุณุชุฏุนุงุก `add_one(1)`. ุจูุฌุฑุฏ ุญุตูููุง ุนูู ุงููุชูุฌุฉุ ุณุชููู ุฏุงูุฉ `main` ุจู "ุฅูุบุงุก ุงูุฅููุงู" ูุณูููู ุจุชุนููู ุงููููุฉ ุงููุฑุฌุนุฉ ูู `add_one(1)` ุฅูู ุงููุชุบูุฑ `one_plus_one`ุ ูุงูุฐู ูู ูุฐู ุงูุญุงูุฉ ุณูููู ุงุซููู. ุซู ููุนู ููุณ ุงูุดูุก ูู `add_one(2)` ุซู ูุทุจุน ุงููุชุงุฆุฌ. ูููููุง ุชุตูุฑ ุชุฏูู ุงูุชูููุฐ ูุชุทุจูููุงุ ููุง ูู ููุถุญ ูู ุงูุดูู 2.1. 

![alt text](image-11.png)


ุนูุฏูุง ูุตู ุฅูู ุชุนุจูุฑ `await`ุ ูููู ุจุฅููุงู ุงูู Coroutine ุงูุฃุตููุฉ ูุฏููุง ููุดุบู ุงูู Coroutine ูู ุชุนุจูุฑ `await`. ุจูุฌุฑุฏ ุงูุงูุชูุงุกุ ูุณุชุฃูู ุงูู Coroutine ุงูุฃุตููุฉ ููุนูู ุงููููุฉ ุงููุฑุฌุนุฉ.

ููุง ูู ุงูุญุงู ุงูุขูุ ูุฅู ูุฐุง ุงูููุฏ ูุง ูุนูู ุจุดูู ูุฎุชูู ุนู ุงูููุฏ ุงูุชุณูุณูู ุงูุนุงุฏู. ูุญูุ ูู ุงููุงูุนุ ูููุฏ ููุฏุณ normal call stack. ุจุนุฏ ุฐููุ ุฏุนูุง ูููู ูุธุฑุฉ ุนูู ูุซุงู ุจุณูุท ูููููุฉ ุชุดุบูู ููุฏ ุขุฎุฑ ูู ุฎูุงู ุฅุฏุฎุงู ุนูููุฉ ููู ููููุฉ (dummy sleep operation) ุจูููุง ูุญู ูู ุงูุชุธุงุฑ.

## Introducing long-running coroutines with sleep

ูู ุชุณุชุฎุฏู ุงูุฃูุซูุฉ ุงูุณุงุจูุฉ ุฃู ุนูููุงุช ุจุทูุฆุฉุ ููุงูุช ุชูุฏู ููุณุงุนุฏุชูุง ูู ุชุนูู ุจูุงุก ุงูุฌููุฉ ุงูุฃุณุงุณูุฉ ูู Coroutines. ูุฑุคูุฉ ุงูููุงุฆุฏ ุจุงููุงูู ููุฅุธูุงุฑ ููู ูููููุง ุชุดุบูู ุฃุญุฏุงุซ ูุชุนุฏุฏุฉ ูู ููุช ูุงุญุฏุ ุณูุญุชุงุฌ ุฅูู ุฅุฏุฎุงู ุจุนุถ ุงูุนูููุงุช ุทูููุฉ ุงูุฃูุฏ. ุจุฏูุงู ูู ุฅุฌุฑุงุก ุงุณุชุฏุนุงุกุงุช API ููุจ ุฃู ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุจูุงูุงุช ุนูู ุงูููุฑุ ูุงูุชู ุชููู ุบูุฑ ูุญุฏุฏุฉ ุจุงููุณุจุฉ ูููุฏุฉ ุงูุชู ุณุชุณุชุบุฑููุงุ ุณูููู ุจูุญุงูุงุฉ ุงูุนูููุงุช ุทูููุฉ ุงูุฃูุฏ ูู ุฎูุงู ุชุญุฏูุฏ ุงููุฏุฉ ุงูุชู ูุฑูุฏ ุงูุงูุชุธุงุฑ ุจูุง. ุณูููู ุจุฐูู ุจุงุณุชุฎุฏุงู ุฏุงูุฉ `asyncio.sleep`.

ูููููุง ุงุณุชุฎุฏุงู `asyncio.sleep` ูุฌุนู Coroutine "ุชูุงู" ููุฏุฉ ูุนููุฉ ูู ุงูุซูุงูู. ุณูุคุฏู ุฐูู ุฅูู ุฅููุงู Coroutine ูุฏููุง ูููุฏุฉ ุงูุชู ูุญุฏุฏูุงุ ูุญุงูููุง ูุง ุณูุญุฏุซ ุฅุฐุง ูุงู ูุฏููุง ุงุณุชุฏุนุงุก ุทููู ุงูุฃูุฏ ููุงุนุฏุฉ ุจูุงูุงุช ุฃู API ููุจ. `asyncio.sleep` ูู ุจุฏูุฑูุง Coroutineุ ูุฐุง ูุฌุจ ุนูููุง ุงุณุชุฎุฏุงููุง ูุน ุงููููุฉ ุงูููุชุงุญูุฉ `await`. ุฅุฐุง ุงุณุชุฏุนููุงูุง ุจููุฑุฏูุงุ ุณูุญุตู ุนูู ูุงุฆู Coroutine. ูุธุฑูุง ูุฃู `asyncio.sleep` ูู Coroutineุ ููุฐุง ูุนูู ุฃูู ุนูุฏูุง ุชูุชุธุฑ Coroutine ุฃุฎุฑู ููุงุ ุณูููู ูู ุงููููู ุชุดุบูู ููุฏ ุขุฎุฑ.

ูููู ูุธุฑุฉ ุนูู ูุซุงู ุจุณูุทุ ููุง ูู ููุถุญ ูู ุงููุงุฆูุฉ ุงูุชุงููุฉุ ุงูุฐู ููุงู ููุฏุฉ ุซุงููุฉ ูุงุญุฏุฉ ุซู ูุทุจุน ุฑุณุงูุฉ "Hello World!".


#### ุงููุงุฆูุฉ 2.5 ุชุทุจูู ุฃูู ูุน sleep
```python
import asyncio

async def hello_world_message() -> str:
    await asyncio.sleep(1) โถ
    return 'Hello World!'

async def main() -> None:
    message = await hello_world_message() โท
    print(message)

asyncio.run(main())
```
โถ ุชููู `hello_world_message` ููุฏุฉ 1 ุซุงููุฉ.  
โท ุชููู `main` ุญุชู ุชูุชูู `hello_world_message`.

ุนูุฏูุง ูููู ุจุชุดุบูู ูุฐุง ุงูุชุทุจููุ ุณูุณุชุบุฑู ุงูุจุฑูุงูุฌ ุซุงููุฉ ูุงุญุฏุฉ ูุจู ุฃู ูุทุจุน ุฑุณุงูุฉ "Hello World!". ูุธุฑูุง ูุฃู `hello_world_message` ูู Coroutine ููููููุง ููุฏุฉ 1 ุซุงููุฉ ุจุงุณุชุฎุฏุงู `asyncio.sleep`ุ ูุฏููุง ุงูุขู ุซุงููุฉ ูุงุญุฏุฉ ุญูุซ ูููููุง ุชุดุบูู ููุฏ ุขุฎุฑ ุจุดูู ูุชุฒุงูู.

ุณูุณุชุฎุฏู sleep ูุซูุฑูุง ูู ุงูุฃูุซูุฉ ุงููุงุฏูุฉุ ูุฐุง ุฏุนููุง ูุณุชุซูุฑ ุงูููุช ูุฅูุดุงุก Coroutine ูุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู ุชูุงู ููุง ูุชุทุจุน ุจุนุถ ุงููุนูููุงุช ุงููููุฏุฉ. ุณูุทูู ุนูู ูุฐู Coroutine ุงุณู `delay`. ููุฐุง ููุถุญ ูู ุงููุงุฆูุฉ ุงูุชุงููุฉ.

#### ุงููุงุฆูุฉ 2.6 ุฏุงูุฉ ุชุฃุฎูุฑ ูุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
```python
import asyncio

async def delay(delay_seconds: int) -> int:
    print(f'sleeping for {delay_seconds} second(s)')
    await asyncio.sleep(delay_seconds)
    print(f'finished sleeping for {delay_seconds} second(s)')
    return delay_seconds
```


---

</div>